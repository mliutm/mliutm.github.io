<!DOCTYPE html><html class="hide-aside" lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Redis入门（一） | 清风</title><meta name="author" content="清风"><meta name="copyright" content="清风"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="内容 Redis概念 Redis的安装 Redis命令入门 Java操作Redis Redis的持久化配置 Redis的淘汰策略  一.Redis概念1.NOSQL1.1.什么是NOSQL NoSQL(NoSQL &#x3D; Not Only SQL )，意即“不仅仅是SQL”，它泛指非关系型的数据库。  关系型数据库与非关系型数据库 关系型数据库：以关系(由行和列组成的二维表)模型建模的数据库"><meta property="og:type" content="article"><meta property="og:title" content="Redis入门（一）"><meta property="og:url" content="https://mliutm.github.io/breeze/6a343b7f.html"><meta property="og:site_name" content="清风"><meta property="og:description" content="内容 Redis概念 Redis的安装 Redis命令入门 Java操作Redis Redis的持久化配置 Redis的淘汰策略  一.Redis概念1.NOSQL1.1.什么是NOSQL NoSQL(NoSQL &#x3D; Not Only SQL )，意即“不仅仅是SQL”，它泛指非关系型的数据库。  关系型数据库与非关系型数据库 关系型数据库：以关系(由行和列组成的二维表)模型建模的数据库"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://mliutm.github.io/img/premium_photo-1695185954894-e9382c6f4da8.jpg"><meta property="article:published_time" content="2023-10-24T14:04:02.000Z"><meta property="article:modified_time" content="2023-10-24T14:16:43.371Z"><meta property="article:author" content="清风"><meta property="article:tag" content="Redis"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://mliutm.github.io/img/premium_photo-1695185954894-e9382c6f4da8.jpg"><link rel="shortcut icon" href="/img/favicon.jpg"><link rel="canonical" href="https://mliutm.github.io/breeze/6a343b7f.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!1,languages:{hits_empty:"找不到您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!1,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{limitCount:10,languages:{author:"作者: 清风",link:"链接: ",source:"来源: 清风",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Redis入门（一）",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-10-24 22:16:43"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,a){0!==a&&(a=864e5*a,t={value:t,expiry:(new Date).getTime()+a},localStorage.setItem(e,JSON.stringify(t)))},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!((new Date).getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=o=>new Promise((t,e)=>{const a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.getCSS=(o,n=!1)=>new Promise((t,e)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=o,n&&(a.id=n),a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};e=saveToLocal.get("theme"),"dark"===e?activateDarkMode():"light"===e&&activateLightMode(),e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/background.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">142</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">72</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/premium_photo-1695185954894-e9382c6f4da8.jpg)"><nav id="nav"><span id="blog-info"><a href="/" title="清风"><span class="site-name">清风</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Redis入门（一）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-10-24T14:04:02.000Z" title="发表于 2023-10-24 22:04:02">2023-10-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-10-24T14:16:43.371Z" title="更新于 2023-10-24 22:16:43">2023-10-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>33分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="Redis入门（一）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h2><ul><li>Redis概念</li><li>Redis的安装</li><li>Redis命令入门</li><li>Java操作Redis</li><li>Redis的持久化配置</li><li>Redis的淘汰策略</li></ul><h2 id="一-Redis概念"><a href="#一-Redis概念" class="headerlink" title="一.Redis概念"></a>一.Redis概念</h2><h3 id="1-NOSQL"><a href="#1-NOSQL" class="headerlink" title="1.NOSQL"></a>1.NOSQL</h3><h4 id="1-1-什么是NOSQL"><a href="#1-1-什么是NOSQL" class="headerlink" title="1.1.什么是NOSQL"></a>1.1.什么是NOSQL</h4><blockquote><p>NoSQL(NoSQL &#x3D; Not Only SQL )，意即“不仅仅是SQL”，它泛指非关系型的数据库。</p></blockquote><h4 id="关系型数据库与非关系型数据库"><a href="#关系型数据库与非关系型数据库" class="headerlink" title="关系型数据库与非关系型数据库"></a>关系型数据库与非关系型数据库</h4><blockquote><p><strong>关系型数据库：</strong>以关系(由行和列组成的二维表)模型建模的数据库。简单理解：有表的就是关系型数据库。</p><p><strong>非关系型数据库：</strong><a target="_blank" rel="noopener" href="https://www.zhihu.com/search?q=%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:2248372666%7D">非关系型数据库</a>一般是分布式的，并且不保证ACID，以键值对（kv）来存储，这样就不用局限于固定的结构根据key就可以取出对应的value。这样就形成了天然的横向扩展场景，面向高性能高并发、海量数据访问的业务</p></blockquote><h4 id="1-2-NOSQL分类"><a href="#1-2-NOSQL分类" class="headerlink" title="1.2.NOSQL分类"></a>1.2.NOSQL分类</h4><p><a target="_blank" rel="noopener" href="http://www.nosql-database.org/">http://www.nosql-database.org/</a></p><table><thead><tr><th>分类</th><th>Examples举例</th><th>典型应用场景</th><th>数据模型</th><th>优点</th><th>缺点</th></tr></thead><tbody><tr><td>键值（key-value）</td><td>Tokyo Cabinet&#x2F;Tyrant, <code>Redis</code>, <code>Memcached</code>, Voldemort, Oracle BDB</td><td>内容缓存，主要用于处理大量数据的高访问负载，也用于一些日志系统等等。</td><td>Key 指向 Value 的键值对，通常用hash table来实现</td><td>查找速度快</td><td>数据无结构化，通常只被当作字符串或者二进制数据</td></tr><tr><td>列存储数据库</td><td>Cassandra, <strong>HBase</strong>, Riak</td><td>分布式的文件系统</td><td>以列簇式存储，将同一列数据存在一起</td><td>查找速度快，可扩展性强，更容易进行分布式扩展</td><td>功能相对局限</td></tr><tr><td>文档型数据库</td><td>CouchDB, <code>MongoDb</code></td><td>Web应用（与Key-Value类似，Value是结构化的，不同的是数据库能够了解Value的内容）</td><td>Key-Value对应的键值对，Value为结构化数据</td><td>数据结构要求不严格，表结构可变，不需要像关系型数据库一样需要预先定义表结构</td><td>查询性能不高，而且缺乏统一的查询语法。</td></tr><tr><td>图形(Graph)数据库</td><td>Neo4J, InfoGrid, Infinite Graph</td><td>社交网络，推荐系统等。专注于构建关系图谱</td><td>图结构</td><td>利用图结构相关算法。比如最短路径寻址，N度关系查找等</td><td>很多时候需要对整个图做计算才能得出需要的信息，而且这种结构不太好做分布式的集群</td></tr></tbody></table><p>Redis和Memcached是key-value的noSql，主要用来做缓存。</p><h3 id="2-Redis"><a href="#2-Redis" class="headerlink" title="2.Redis"></a>2.Redis</h3><h4 id="2-1-什么是Redis"><a href="#2-1-什么是Redis" class="headerlink" title="2.1.什么是Redis"></a>2.1.什么是Redis</h4><blockquote><p>Redis 是一个高性能的 开源的、C语言写的Nosql（非关系型数据库），redis的数据可以存储在内存中或者磁盘中。Redis 是以key-value形式存储，和传统的关系型数据库不一样。不一定遵循传统数据库的一些基本要求，比如说，不遵循sql标准，事务，表结构等等，redis严格上不是一种数据库，应该<strong>是一种数据结构化存储方法的集合</strong>。</p><p>数据结构：数组、List Set Map等</p><p>Redis是将数据保存到内存的nosql。它有很多的方法，使用特定的方法就可以将存入的字符串转化为特定的数据结构保存。</p></blockquote><h4 id="2-2-Redis的特点"><a href="#2-2-Redis的特点" class="headerlink" title="2.2.Redis的特点"></a>2.2.Redis的特点</h4><ul><li>数据保存在内存，存取速度快，并发能力强</li><li>它支持存储的value类型相对更多，包括string(字符串)、list(链表)、set(无序不可重复集合)、 zset(sorted set –有序不可重复集合)和hash（哈希类型-对象）。</li><li>redis的出现，很大程度补偿了memcached这类key&#x2F;value存储的不足，在部分场合可以对关系数据库（如MySQL）起到很好的补充作用。</li><li>提供了Java，C&#x2F;C++，C#，PHP，JavaScript等客户端，使用很方便。</li><li>Redis支持集群（主从同步）。数据可以主服务器向任意数量从的从服务器上同步，从服务器可以是关联其他从服务器的主服务器。</li><li>支持持久化,[通常情况数据存储在内存,同时也可以存储磁盘里面]</li><li>支持订阅&#x2F;发布[看看就是,redis不是专业做订阅发布的]</li><li>支持事务,[并不是数据库层面的事务]</li></ul><p>总结：</p><p>​	1、redis是C语言写的开源免费的NoSql数据库</p><p>​	2、数据存放在内存，还支持持久化。存取数据快，并发能力强，数据安全高。</p><p>​	3、value支持的数据类型多。</p><p>​	4、支持多个语言客户端。</p><p>​	5、支持集群。(支持高并发，海量数据)</p><h4 id="2-3-Redis、Memcached、Mysql的比较"><a href="#2-3-Redis、Memcached、Mysql的比较" class="headerlink" title="2.3.Redis、Memcached、Mysql的比较"></a>2.3.Redis、Memcached、Mysql的比较</h4><table><thead><tr><th></th><th>mysql</th><th>redis</th><th>memcached</th></tr></thead><tbody><tr><td>类型</td><td>关系型</td><td>非关系型</td><td>非关系型</td></tr><tr><td>存储位置</td><td>磁盘</td><td>磁盘和内存</td><td>内存</td></tr><tr><td>存储过期</td><td>不支持</td><td>支持</td><td>支持</td></tr><tr><td>读写性能</td><td>低</td><td>非常高</td><td>非常高</td></tr></tbody></table><blockquote><p>存储过期：一个数据存储时为他设置过期时间,时间一到数据就没有. 道具,会员,优惠券,订单,红包等</p></blockquote><h4 id="2-4-Redis的使用场景"><a href="#2-4-Redis的使用场景" class="headerlink" title="2.4.Redis的使用场景"></a>2.4.Redis的使用场景</h4><ul><li><p><strong>缓存</strong></p><p>经常查询数据，放到读速度很快的空间(内存)，以便下次访问减少时间。减轻数据库压力，减少访问时间.而redis就是存放在内存中的。就如同：Mybatis 二级缓存 , ehcache框架 缓存。</p></li><li><p>计数器</p><p>网站通常需要统计注册用户数，网站总浏览次数等等 ，新浪微博转发数、点赞数。</p></li><li><p>实时防攻击系统</p><p>防止暴力破解，如使用工具不间断尝试各种密码进行登录。解决方案使用Redis记录某ip一秒访问到达10次以后自动锁定IP,30分钟后解锁</p></li><li><p>设定有效期的应用</p><p>设定一个数据，到一定的时间失效。验证码，登录过期， 自动解锁，购物券，红包。</p></li><li><p>自动去重应用</p><p>Uniq 操作，获取某段时间所有数据排重值 这个使用 Redis 的 set 数据结构最合适了，只需要不断地将数据往 set 中扔就行了，set 意为 集合，所以会自动排重。</p></li><li><p>排行榜 可以利用redis的zset来进行处理</p></li><li><p>队列</p><p>构建队列系统 使用 list 可以构建队列系统，使用 sorted set 甚至可以构建有优先级的队列系统。</p><p>秒杀：可以把名额放到内存队列（redis）,内存就能处理高并发访问。</p></li><li><p>消息订阅系统：</p><p>Pub&#x2F;Sub 构建实时消息系统 Redis 的 Pub&#x2F;Sub 系统可以构建实时的消息系统，比如很多用 Pub&#x2F;Sub 构建的实时聊天系统 的例子。如QQ群</p></li></ul><h2 id="二-Redis的安装"><a href="#二-Redis的安装" class="headerlink" title="二.Redis的安装"></a>二.Redis的安装</h2><h3 id="1-下载和安装"><a href="#1-下载和安装" class="headerlink" title="1.下载和安装"></a>1.下载和安装</h3><h4 id="1-1-下载Redis"><a href="#1-1-下载Redis" class="headerlink" title="1.1.下载Redis"></a>1.1.下载Redis</h4><ul><li><p>linux版本：<a target="_blank" rel="noopener" href="http://redis.io/download">http://redis.io/download</a></p></li><li><p>中文网地址：<a target="_blank" rel="noopener" href="http://redis.cn/">http://redis.cn/</a></p></li><li><p>windows版本: <a target="_blank" rel="noopener" href="https://github.com/microsoftarchive/redis/releases">https://github.com/microsoftarchive/redis/releases</a></p></li></ul><h4 id="1-2-安装Redis"><a href="#1-2-安装Redis" class="headerlink" title="1.2.安装Redis"></a>1.2.安装Redis</h4><ul><li><p>window版本解压Redis包即可</p></li><li><p>linux版本安装暂时不讲，后面会讲到，有兴趣可以自己百度</p></li></ul><h4 id="1-3-Redis目录介绍"><a href="#1-3-Redis目录介绍" class="headerlink" title="1.3.Redis目录介绍"></a>1.3.Redis目录介绍</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">redis.window.conf    #【重要】reids配置文件</span><br><span class="line"></span><br><span class="line">redis-benchmark.exe   #reids性能测试工具</span><br><span class="line"></span><br><span class="line">redis-check-aof.exe    #aof文件校验、修复功能</span><br><span class="line"></span><br><span class="line">redis-check-dump.exe    #rdb文件校验、修复功能</span><br><span class="line"></span><br><span class="line">redis-cli.exe    #【重要】命令行客户端，连接Redis服务端可对Redis进行相关操作</span><br><span class="line"></span><br><span class="line">redis-server.exe  #【重要】Redis服务器,启动Redis</span><br></pre></td></tr></table></figure><h3 id="2-Redis启动和测试"><a href="#2-Redis启动和测试" class="headerlink" title="2.Redis启动和测试"></a>2.Redis启动和测试</h3><h4 id="2-1-启动redis-server"><a href="#2-1-启动redis-server" class="headerlink" title="2.1.启动redis-server"></a>2.1.启动redis-server</h4><p>进入到Redis安装目录 ，虽然双击也可以启动，但是建议使用CMD执行</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server.exe redis.windows.conf</span><br></pre></td></tr></table></figure><h4 id="2-2-启动redis-client"><a href="#2-2-启动redis-client" class="headerlink" title="2.2.启动redis-client"></a>2.2.启动redis-client</h4><ul><li>连接本机Redis直接双击 redis-cli.exe 或者执行命令</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli.exe</span><br></pre></td></tr></table></figure><ul><li>如果连接其他服务的Redis需要跟上 -h参数</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli.exe -h ip -p 端口   #如  redis-client.exe -h 192.168.0.11 -p 6379</span><br></pre></td></tr></table></figure><h4 id="2-3-测试Redis"><a href="#2-3-测试Redis" class="headerlink" title="2.3 测试Redis"></a>2.3 测试Redis</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">set name zs	#设置数据</span><br><span class="line"></span><br><span class="line">get name 	#获取数字</span><br><span class="line"></span><br><span class="line">expire name 30  # 设置过期时间</span><br><span class="line"></span><br><span class="line">ttl name  #获取过期时间</span><br><span class="line"></span><br><span class="line">keys *  # 获取所有的key</span><br></pre></td></tr></table></figure><h4 id="2-4-设置密码"><a href="#2-4-设置密码" class="headerlink" title="2.4 设置密码"></a>2.4 设置密码</h4><h5 id="2-4-1-临时设置"><a href="#2-4-1-临时设置" class="headerlink" title="2.4.1 临时设置"></a>2.4.1 临时设置</h5><ul><li>CONFIG SET 命令可以动态地调整 Redis 服务器的配置而无须重启,重启后失效</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">config <span class="built_in">set</span> requirepass 123456</span><br></pre></td></tr></table></figure><h5 id="2-4-2-永久设置"><a href="#2-4-2-永久设置" class="headerlink" title="2.4.2 永久设置"></a>2.4.2 永久设置</h5><ul><li>修改配置文件 redis.widows.conf ，增加代码：</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">requirepass</span> <span class="number">123456</span></span><br></pre></td></tr></table></figure><h5 id="2-4-3-登录"><a href="#2-4-3-登录" class="headerlink" title="2.4.3 登录"></a>2.4.3 登录</h5><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">auth</span> <span class="number">123456</span></span><br></pre></td></tr></table></figure><h2 id="三-Redis命令入门"><a href="#三-Redis命令入门" class="headerlink" title="三.Redis命令入门"></a>三.Redis命令入门</h2><h3 id="1-String的操作"><a href="#1-String的操作" class="headerlink" title="1.String的操作"></a>1.String的操作</h3><h4 id="2-1-String结构"><a href="#2-1-String结构" class="headerlink" title="2.1.String结构"></a>2.1.String结构</h4><ul><li>String结构模拟图</li></ul><table><thead><tr><th>key</th><th>value</th></tr></thead><tbody><tr><td>name</td><td>zs</td></tr><tr><td>age</td><td>18</td></tr></tbody></table><h4 id="2-2-set-key-value"><a href="#2-2-set-key-value" class="headerlink" title="2.2.set key value"></a>2.2.set key value</h4><ul><li>将单个字符串值value关联到key,存储到Redis</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set name zs			#key为 name， 值为zs </span><br></pre></td></tr></table></figure><h4 id="2-3-get-key"><a href="#2-3-get-key" class="headerlink" title="2.3.get key"></a>2.3.get key</h4><ul><li>返回key关联的字符串值</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get name			#获取值，key为 name</span><br></pre></td></tr></table></figure><h4 id="2-4-mset-key-value-key-value"><a href="#2-4-mset-key-value-key-value" class="headerlink" title="2.4.mset key value key value"></a>2.4.mset key value key value</h4><ul><li>同时设置一个或多个 key-value 对</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mset name zs age 18		#设置了两对key ，name=zs ; age=18</span><br></pre></td></tr></table></figure><h4 id="2-5-mget-key-key"><a href="#2-5-mget-key-key" class="headerlink" title="2.5.mget key key"></a>2.5.mget key key</h4><ul><li>获取多个值</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mget name age 		#获取key为name和age的数据的值</span><br></pre></td></tr></table></figure><h4 id="2-6-incr-key"><a href="#2-6-incr-key" class="headerlink" title="2.6.incr key"></a>2.6.incr key</h4><ul><li>将 key 中储存的数字值增1(key不存在,则初始化为0,再加1)</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">incr age		#age的值增加1</span><br></pre></td></tr></table></figure><h4 id="2-7-decr-key"><a href="#2-7-decr-key" class="headerlink" title="2.7.decr key"></a>2.7.decr key</h4><ul><li>将 key 中储存的数字值减1(key不存在,则初始化为0,再减1)</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">decr age		#将age的值减去1</span><br></pre></td></tr></table></figure><h4 id="2-8-incrby-keynumber"><a href="#2-8-incrby-keynumber" class="headerlink" title="2.8.incrby key	number"></a>2.8.incrby key	number</h4><ul><li>将 key 中储存的数字值增加指定数字</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">incrby age	2		#在age的值的基础上增加2	</span><br></pre></td></tr></table></figure><h4 id="2-9-decrby-keynumber"><a href="#2-9-decrby-keynumber" class="headerlink" title="2.9.decrby key	number"></a>2.9.decrby key	number</h4><ul><li>将 key 中储存的数字值减少指定数字</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">decrby age	2		#在age的值的基础上减去2	</span><br></pre></td></tr></table></figure><h4 id="2-10-SETEX-key-seconds-value"><a href="#2-10-SETEX-key-seconds-value" class="headerlink" title="2.10.SETEX key seconds value"></a>2.10.SETEX key seconds value</h4><ul><li>设置key-value，并设置过期时间</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setex mykey 10 &quot;Hello&quot;  #设置 mykey的值为“hello” ,过期时间为 10s ,是set和expire的组合命令，且是原子性的</span><br></pre></td></tr></table></figure><h4 id="2-11-SETNX-key-value"><a href="#2-11-SETNX-key-value" class="headerlink" title="2.11.SETNX key value"></a>2.11.SETNX key value</h4><ul><li>设置一个key-value,如果这个key不存在则设置成功返回1，否则设置不成功，返回0</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setnx name zs</span><br></pre></td></tr></table></figure><h4 id="2-12-GETSET-key-value"><a href="#2-12-GETSET-key-value" class="headerlink" title="2.12.GETSET key value"></a>2.12.GETSET key value</h4><ul><li>设置一个key-value，把这个key以前的值返回</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getset name ls</span><br></pre></td></tr></table></figure><h3 id="2-key的操作"><a href="#2-key的操作" class="headerlink" title="2.key的操作"></a>2.key的操作</h3><h4 id="2-1-keys"><a href="#2-1-keys" class="headerlink" title="2.1.keys"></a>2.1.keys</h4><ul><li>查看所有的key</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keys *</span><br></pre></td></tr></table></figure><h4 id="2-2-del-key"><a href="#2-2-del-key" class="headerlink" title="2.2.del key"></a>2.2.del key</h4><ul><li>删除指定的某个key</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">del username	<span class="comment"># 删除key为username的数据</span></span><br></pre></td></tr></table></figure><h4 id="2-3-expire-key-secnods"><a href="#2-3-expire-key-secnods" class="headerlink" title="2.3.expire key secnods"></a>2.3.expire key secnods</h4><ul><li>设置key的过期时间(secnods秒后过期)</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expire name 10 	<span class="comment"># 设置name的过期时间10s</span></span><br></pre></td></tr></table></figure><h4 id="2-4-ttl-key"><a href="#2-4-ttl-key" class="headerlink" title="2.4.ttl key"></a>2.4.ttl key</h4><ul><li>查看key的过期时间</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ttl name		<span class="comment"># 查看name的过期时间</span></span><br></pre></td></tr></table></figure><h4 id="2-5-flushall"><a href="#2-5-flushall" class="headerlink" title="2.5.flushall"></a>2.5.flushall</h4><ul><li>清空整个redis服务器数据，所有的数据库全部清空</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flushall</span><br></pre></td></tr></table></figure><h4 id="2-6-flushdb"><a href="#2-6-flushdb" class="headerlink" title="2.6.flushdb"></a>2.6.flushdb</h4><ul><li>清除当前库</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flushdb</span><br></pre></td></tr></table></figure><h4 id="2-7-select-index"><a href="#2-7-select-index" class="headerlink" title="2.7.select index"></a>2.7.select index</h4><ul><li>选择数据库,redis中默认有16个数据库，名称分别为0,1,2,,,15 ， index数据库索引</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 1		<span class="comment"># 选择第2个数据库</span></span><br></pre></td></tr></table></figure><h4 id="2-8-exists-key"><a href="#2-8-exists-key" class="headerlink" title="2.8.exists key"></a>2.8.exists key</h4><ul><li>查询key是否存在</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exists name</span><br></pre></td></tr></table></figure><h3 id="3-List的操作"><a href="#3-List的操作" class="headerlink" title="3.List的操作"></a>3.List的操作</h3><h4 id="3-1-List结构"><a href="#3-1-List结构" class="headerlink" title="3.1.List结构"></a>3.1.List结构</h4><p>list集合可以看成是一个左右排列的队列(列表)</p><ul><li><p>List机构模拟图</p><table><thead><tr><th>key</th><th>value</th><th>value</th><th>value</th></tr></thead><tbody><tr><td>names</td><td>zs</td><td>ls</td><td>ls</td></tr><tr><td>ages</td><td>11</td><td>18</td><td>20</td></tr></tbody></table></li></ul><h4 id="3-2-lpush-key-value-value"><a href="#3-2-lpush-key-value-value" class="headerlink" title="3.2.lpush key value value"></a>3.2.lpush key value value</h4><ul><li>将一个或多个值 value 插入到列表 key 的表头(最左边)</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lpush names zs ls	#往key为 names 的list左边添加值“zs”和“ls”</span><br></pre></td></tr></table></figure><h4 id="3-3-lrange-key-start-stop"><a href="#3-3-lrange-key-start-stop" class="headerlink" title="3.3.lrange key start stop"></a>3.3.lrange key start stop</h4><ul><li>返回列表 key 中指定区间内的元素，查询所有的stop为-1即可</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lrange names 0 -1		#查看names的所有元素</span><br></pre></td></tr></table></figure><h4 id="3-4-rpush-key-value-value"><a href="#3-4-rpush-key-value-value" class="headerlink" title="3.4.rpush key value value"></a>3.4.rpush key value value</h4><ul><li>将一个或多个值 value 插入到列表 key 的表尾(最右边)</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpush names zl cq	#往key为 names 的list右边添加值“zl”和“cq”</span><br></pre></td></tr></table></figure><h4 id="3-5-lpop-key"><a href="#3-5-lpop-key" class="headerlink" title="3.5.lpop key"></a>3.5.lpop key</h4><ul><li>移除并返回列表 key 的头(最左边)元素。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lpop names	#移除并返回names列表的头（最左边）元素</span><br></pre></td></tr></table></figure><h4 id="3-6-rpop-key"><a href="#3-6-rpop-key" class="headerlink" title="3.6.rpop key"></a>3.6.rpop key</h4><ul><li>移除并返回列表 key 的尾(最右边)元素。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpop names	#移除并返回names列表的尾(最右边)元素。</span><br></pre></td></tr></table></figure><h4 id="3-7-lrem-key-count-value"><a href="#3-7-lrem-key-count-value" class="headerlink" title="3.7.lrem key count value"></a>3.7.lrem key count value</h4><ul><li>根据count值移除列表key中与参数 value 相等的元素count &gt;0 : 从表头开始向表尾搜索，移除与 value 相等的元素，数量为 count 。count &lt; 0 : 从表尾开始向表头搜索，移除与 value 相等的元素，数量为 count 的绝对值。count &#x3D; 0 : 移除表中所有与 value 相等的值。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lrem names 1 zs		#删除names列表中左边第1个“zs” </span><br><span class="line">lrem names 0 ls		#删除names列表中所有的“ls”</span><br><span class="line">lrem names -1 cq	#删除names列表中右边第1个“cq”</span><br></pre></td></tr></table></figure><h4 id="3-8-lindex-key-index"><a href="#3-8-lindex-key-index" class="headerlink" title="3.8.lindex key index"></a>3.8.lindex key index</h4><ul><li>返回列表 key 中，下标为 index 的元素</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lindex names 2	#取names列表中索引为 2 的元素</span><br></pre></td></tr></table></figure><h4 id="3-9-ltrim-key-start-stop"><a href="#3-9-ltrim-key-start-stop" class="headerlink" title="3.9.ltrim key start stop"></a>3.9.ltrim key start stop</h4><ul><li>对一个列表进行修剪 ，保留范围内的，范围外的删除</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ltrim names 2 4		#删除names列表中索引为 2 - 4 以外的元素</span><br></pre></td></tr></table></figure><h4 id="3-10-Redis中如何实现栈和队列"><a href="#3-10-Redis中如何实现栈和队列" class="headerlink" title="3.10.Redis中如何实现栈和队列"></a>3.10.Redis中如何实现栈和队列</h4><ul><li>list控制同一边进,同一边出就是栈</li><li>list控制一边进,另一边出就是队列</li></ul><h3 id="4-Set的操作"><a href="#4-Set的操作" class="headerlink" title="4.Set的操作"></a>4.Set的操作</h3><p>set集合是一个无序的不含重复值的队列</p><h4 id="4-1-Set结构"><a href="#4-1-Set结构" class="headerlink" title="4.1.Set结构"></a>4.1.Set结构</h4><ul><li>Set机构模拟图</li></ul><table><thead><tr><th>key</th><th>value</th><th>value</th><th>value</th></tr></thead><tbody><tr><td>idcards</td><td>110</td><td>120</td><td>130</td></tr><tr><td>phones</td><td>182</td><td>135</td><td>136</td></tr></tbody></table><h4 id="4-2-sadd-key-value-value"><a href="#4-2-sadd-key-value-value" class="headerlink" title="4.2.sadd key value value"></a>4.2.sadd key value value</h4><ul><li>将一个或多个 member 元素加入到集合 key 当中，已经存在于集合的 member 元素将被忽略</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sadd colors red green yellow blue		#往colors这个set集合中存放元素： red,green,yellow,blue</span><br></pre></td></tr></table></figure><h4 id="4-3-smembers-key"><a href="#4-3-smembers-key" class="headerlink" title="4.3.smembers key"></a>4.3.smembers key</h4><ul><li>返回集合 key 中的所有成员。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smembers colors</span><br></pre></td></tr></table></figure><h4 id="4-4-srem-key-member"><a href="#4-4-srem-key-member" class="headerlink" title="4.4.srem key member"></a>4.4.srem key member</h4><ul><li>移除集合 key 中的一个或多个 member 元素，不存在的 member 元素会被忽略</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">srem colors red		#删除colors中的 red元素</span><br></pre></td></tr></table></figure><h4 id="4-5-SCARD-key"><a href="#4-5-SCARD-key" class="headerlink" title="4.5.SCARD key"></a>4.5.SCARD key</h4><ul><li>返回集合存储的key的基数 (集合元素的数量).如果key不存在,则返回 0。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scard colors</span><br></pre></td></tr></table></figure><h4 id="4-6-SDIFF-key-key-…"><a href="#4-6-SDIFF-key-key-…" class="headerlink" title="4.6.SDIFF key [key …]"></a>4.6.SDIFF key [key …]</h4><ul><li>返回一个集合与给定集合的差集的元素</li></ul><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sdiff colors names</span></span><br></pre></td></tr></table></figure><h4 id="4-7-SISMEMBER-key-member"><a href="#4-7-SISMEMBER-key-member" class="headerlink" title="4.7.SISMEMBER key member"></a>4.7.SISMEMBER key member</h4><ul><li>返回成员 member 是否是存储的集合 key的成员.</li><li>如果member元素是集合key的成员，则返回1</li><li>如果member元素不是key的成员，或者集合key不存在，则返回0</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sismember names zs		#判断names中是否包含 zs</span><br></pre></td></tr></table></figure><h3 id="5-ZSet的操作"><a href="#5-ZSet的操作" class="headerlink" title="5.ZSet的操作"></a>5.ZSet的操作</h3><p>ZSet(sorted sets)在Set基础上增加了“分数”，让set集合有了排序功能</p><h4 id="5-1-ZSet结构"><a href="#5-1-ZSet结构" class="headerlink" title="5.1.ZSet结构"></a>5.1.ZSet结构</h4><ul><li>ZSet机构模拟图</li></ul><table><thead><tr><th>key</th><th>value(score)</th><th>value(score)</th><th>value(score)</th></tr></thead><tbody><tr><td>names</td><td>zs(10)</td><td>ls(20)</td><td>ww(30)</td></tr></tbody></table><h4 id="5-2-zadd-key-score-value-score-value"><a href="#5-2-zadd-key-score-value-score-value" class="headerlink" title="5.2.zadd key score value score value"></a>5.2.zadd key score value score value</h4><ul><li>将所有指定成员添加到键为<code>key</code>有序集合（sorted set）里面，如果指定添加的成员已经是有序集合里面的成员，则会更新改成员的分数（scrore）并更新到正确的排序位置</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zadd heights   150 zs 160 ls		#有序集合heights中zs的分数为150 ，ls的分数是 160</span><br></pre></td></tr></table></figure><h4 id="5-3-ZCARD-key"><a href="#5-3-ZCARD-key" class="headerlink" title="5.3.ZCARD key"></a>5.3.ZCARD key</h4><ul><li>返回key的有序集元素个数。key存在的时候，返回有序集的元素个数，否则返回0。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zcard heights</span><br></pre></td></tr></table></figure><h4 id="5-4-ZCOUNT-key-min-max"><a href="#5-4-ZCOUNT-key-min-max" class="headerlink" title="5.4.ZCOUNT key min max"></a>5.4.ZCOUNT key min max</h4><ul><li>返回有序集key中，score值在min和max之间(默认包括score值等于min或max)的成员。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zcount heights 150 160		#获取heignhts中分数为 150到160的元素数量</span><br></pre></td></tr></table></figure><h4 id="5-5-ZPOPMAX-key-count"><a href="#5-5-ZPOPMAX-key-count" class="headerlink" title="5.5.ZPOPMAX key [count]"></a>5.5.ZPOPMAX key [count]</h4><ul><li>删除并返回有序集合<code>key</code>中的最多<code>count</code>个具有最高得分的成员。如未指定，<code>count</code>的默认值为1。</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">zpopmax</span> heights <span class="number">2</span>			#删除最高分数的前<span class="number">2</span>个元素</span><br></pre></td></tr></table></figure><h4 id="5-6-ZPOPMIN-key-count"><a href="#5-6-ZPOPMIN-key-count" class="headerlink" title="5.6.ZPOPMIN key [count]"></a>5.6.ZPOPMIN key [count]</h4><ul><li>删除并返回有序集合<code>key</code>中的最多<code>count</code>个具有最低得分的成员。如未指定，<code>count</code>的默认值为1。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zpopmin heights 2		#删除最低分数的前2个元素</span><br></pre></td></tr></table></figure><h4 id="5-7-ZRANGE-key-start-stop-WITHSCORES"><a href="#5-7-ZRANGE-key-start-stop-WITHSCORES" class="headerlink" title="5.7.ZRANGE key start stop [WITHSCORES]"></a>5.7.ZRANGE key start stop [WITHSCORES]</h4><ul><li>返回存储在有序集合<code>key</code>中的指定范围的元素。 返回的元素可以认为是按得分从最低到最高排列。 如果得分相同，将按字典排序。返回给定范围内的元素列表（如果指定了<code>WITHSCORES</code>选项，将同时返回它们的得分）。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zrange heights 0 10 WITHSCORES	#返回heights中索引 0 到 10 的元素和其分数</span><br></pre></td></tr></table></figure><h4 id="5-8-ZRANK-key-member"><a href="#5-8-ZRANK-key-member" class="headerlink" title="5.8.ZRANK key member"></a>5.8.ZRANK key member</h4><ul><li>返回有序集key中成员member的排名。其中有序集成员按score值递增(从小到大)顺序排列。排名以0为底，也就是说，score值最小的成员排名为0。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zrank heights zs	#返回 zs在heights的分数从小到大排名</span><br></pre></td></tr></table></figure><h4 id="5-9-ZREVRANK-key-member"><a href="#5-9-ZREVRANK-key-member" class="headerlink" title="5.9.ZREVRANK key member"></a>5.9.ZREVRANK key member</h4><ul><li>返回有序集key中成员member的排名，其中有序集成员按score值从大到小排列。排名以0为底，也就是说，score值最大的成员排名为0。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zreverank heights zs	#返回 zs在heights的分数从大到小排名</span><br></pre></td></tr></table></figure><h4 id="5-10-ZSCORE-key-member"><a href="#5-10-ZSCORE-key-member" class="headerlink" title="5.10.ZSCORE key member"></a>5.10.ZSCORE key member</h4><ul><li>返回有序集key中，成员member的score值。如果member元素不是有序集key的成员，或key不存在，返回nil。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zscore heights zs		#返回 zs的分数</span><br></pre></td></tr></table></figure><h4 id="5-11-ZREVRANGE-key-start-stop-WITHSCORES"><a href="#5-11-ZREVRANGE-key-start-stop-WITHSCORES" class="headerlink" title="5.11.ZREVRANGE key start stop [WITHSCORES]"></a>5.11.ZREVRANGE key start stop [WITHSCORES]</h4><ul><li>返回有序集key中，指定区间内的成员。其中成员的位置按score值递减(从大到小)来排列。具有相同score值的成员按字典序的反序排列。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZREVRANGE heights 1	2	WITHSCORES		#返回索引1 - 2 的成员，按分数大到小排序</span><br></pre></td></tr></table></figure><h4 id="5-12-ZRANGEBYSCORE-key-min-max-WITHSCORES-LIMIT-offset-count"><a href="#5-12-ZRANGEBYSCORE-key-min-max-WITHSCORES-LIMIT-offset-count" class="headerlink" title="5.12.ZRANGEBYSCORE key min max WITHSCORES LIMIT offset count"></a>5.12.ZRANGEBYSCORE key min max WITHSCORES LIMIT offset count</h4><ul><li>返回有序集合中指定分数区间内的成员，分数由低到高排序,LIMIT控制分页</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZRANGEBYSCOREkey heights 0 170 WITHSCORES LIMIT 0 10	#查询heights中0-170分之间的元素，低到高排序，0条														   #开始查询，每页10条</span><br></pre></td></tr></table></figure><h4 id="5-13-ZREVRANGEBYSCORE-key-max-min-WITHSCORES-LIMIT-offset-count"><a href="#5-13-ZREVRANGEBYSCORE-key-max-min-WITHSCORES-LIMIT-offset-count" class="headerlink" title="5.13.ZREVRANGEBYSCORE key max min WITHSCORES LIMIT offset count"></a>5.13.ZREVRANGEBYSCORE key max min WITHSCORES LIMIT offset count</h4><ul><li>返回有序集合中指定分数区间内的成员，分数由高到低排序,LIMIT控制分页</li></ul><table><thead><tr><th>指令</th><th>是否必须</th><th>说明</th></tr></thead><tbody><tr><td>ZREVRANGEBYSCORE</td><td>是</td><td>指令</td></tr><tr><td>key</td><td>是</td><td>有序集合键名称</td></tr><tr><td>max</td><td>是</td><td>最大分数值,可使用”+inf”代替</td></tr><tr><td>min</td><td>是</td><td>最小分数值,可使用”-inf”代替</td></tr><tr><td>WITHSCORES</td><td>否</td><td>将成员分数一并返回</td></tr><tr><td>LIMIT</td><td>否</td><td>返回结果是否分页,指令中包含LIMIT后offset、count必须输入</td></tr><tr><td>offset</td><td>否</td><td>返回结果起始位置</td></tr><tr><td>count</td><td>否</td><td>返回结果数量</td></tr></tbody></table><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZREVRANGEBYSCORE heights 170 0 WITHSCORES LIMIT 0 10	#返回heights中分数为170-0之间从第0条数查，10条</span><br></pre></td></tr></table></figure><h3 id="6-Hash的操作"><a href="#6-Hash的操作" class="headerlink" title="6.Hash的操作"></a>6.Hash的操作</h3><p>Hash类似于jdk中的Map,一个key下面以键值对的方式存储数据</p><h4 id="6-1-Hash结构"><a href="#6-1-Hash结构" class="headerlink" title="6.1.Hash结构"></a>6.1.Hash结构</h4><ul><li>Hash机构模拟图</li></ul><p><img src="/breeze/6a343b7f/1583892948202.png"></p><h4 id="6-2-HSET-key-field-value"><a href="#6-2-HSET-key-field-value" class="headerlink" title="6.2.HSET key field value"></a>6.2.HSET key field value</h4><ul><li>设置 key 指定的哈希集中指定字段的值。如果 key 指定的哈希集不存在，会创建一个新的哈希集并与 key 关联。如果字段在哈希集中存在，它将被重写。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hset user:1 name zs			#给&quot;user:1&quot;这个key设置name=zs键值对</span><br></pre></td></tr></table></figure><h4 id="6-3-HGet-key-name"><a href="#6-3-HGet-key-name" class="headerlink" title="6.3.HGet key name"></a>6.3.HGet key name</h4><ul><li>获取hash类型的name键对应的值</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hget user:1 name	#获取user:1总的name字段</span><br></pre></td></tr></table></figure><h4 id="6-4-HMSET-key-field-value-field-value"><a href="#6-4-HMSET-key-field-value-field-value" class="headerlink" title="6.4.HMSET key field value field value"></a>6.4.HMSET key field value field value</h4><ul><li>批量添加name&#x3D;value键值对到key这个hash类型</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hmset user:2 name zs age 18		#给&quot;user:2&quot;这个key设置name=zs键值对和age=18键值对</span><br></pre></td></tr></table></figure><h4 id="6-5-HMGET-key-field-field"><a href="#6-5-HMGET-key-field-field" class="headerlink" title="6.5.HMGET key field field"></a>6.5.HMGET key field field</h4><ul><li>批量获取hash类型的键对应的值</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hmget user:2 name age	#获取user:2总的name和age字段</span><br></pre></td></tr></table></figure><h4 id="6-6-hkeys-key"><a href="#6-6-hkeys-key" class="headerlink" title="6.6.hkeys key"></a>6.6.hkeys key</h4><ul><li>返回哈希表 key 中的所有键</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hkeys</span> user:<span class="number">2</span>	#返回user:<span class="number">2</span>总的所有字段</span><br></pre></td></tr></table></figure><h4 id="6-7-hvals-key"><a href="#6-7-hvals-key" class="headerlink" title="6.7.hvals key"></a>6.7.hvals key</h4><ul><li>返回哈希表 key 中的所有值</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hvals user:2	#返回user:2中的所有值</span><br></pre></td></tr></table></figure><h4 id="6-8-hgetall-key"><a href="#6-8-hgetall-key" class="headerlink" title="6.8.hgetall key"></a>6.8.hgetall key</h4><ul><li>返回哈希表 key 中，所有的键和值</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hgetall user:2	#返回user:2中所有key和value</span><br></pre></td></tr></table></figure><h4 id="6-9-存储对象的两种方式"><a href="#6-9-存储对象的两种方式" class="headerlink" title="6.9.存储对象的两种方式"></a>6.9.存储对象的两种方式</h4><ul><li>使用string结构</li></ul><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">user</span>:<span class="number">1</span> &#123;id:<span class="number">1</span>,<span class="type">name</span>:zs&#125;</span><br></pre></td></tr></table></figure><ul><li>使用hash</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hset</span> user:<span class="number">2</span> &#123;id:<span class="number">2</span>,name:ls&#125;</span><br></pre></td></tr></table></figure><h3 id="7-扩展"><a href="#7-扩展" class="headerlink" title="7.扩展"></a>7.扩展</h3><h4 id="7-1-SORT-key"><a href="#7-1-SORT-key" class="headerlink" title="7.1.SORT key"></a>7.1.SORT key</h4><ul><li>对 list ,set ,zset进行排序</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SORT ages 			#对年龄集合进行排序 </span><br><span class="line">SORT ages DESC 		#对年龄集合进行排序,倒排</span><br><span class="line">SORT names ALPHA  	#对姓名集合进行字典顺序排序</span><br><span class="line">SORT names LIMIT 0 10 # 取names集合中，从第 0 个元素，往后取10个元素</span><br><span class="line">SORT names LIMIT 0 5  ALPHA DESC # 取集合中前5个元素，按字典顺序倒排</span><br></pre></td></tr></table></figure><h2 id="四-Java操作Redis"><a href="#四-Java操作Redis" class="headerlink" title="四.Java操作Redis"></a>四.Java操作Redis</h2><h3 id="1-Java集成Jedis"><a href="#1-Java集成Jedis" class="headerlink" title="1.Java集成Jedis"></a>1.Java集成Jedis</h3><p>开始在 Java 中使用 Redis 前， 我们需要确保已经安装并启动 redis 服务及 Java redis 驱动，且你的机器上能正常使用 Java。可以取Maven仓库下载驱动包 <a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/redis.clients/jedis"><strong>下载 jedis.jar</strong></a>，。</p><h4 id="1-1-搭建工程"><a href="#1-1-搭建工程" class="headerlink" title="1.1.搭建工程"></a>1.1.搭建工程</h4><ul><li>搭建普通java项目，项目名：jedis-demo</li></ul><h4 id="1-2-导入Jedis依赖"><a href="#1-2-导入Jedis依赖" class="headerlink" title="1.2.导入Jedis依赖"></a>1.2.导入Jedis依赖</h4><ul><li>把Jedis和连接池包一起导入进来</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">commons-pool2-2.2.jar		#连接池</span><br><span class="line">jedis-2.5.2.jar			    #Jedis核心包</span><br></pre></td></tr></table></figure><h4 id="2-3-编写测试类"><a href="#2-3-编写测试类" class="headerlink" title="2.3.编写测试类"></a>2.3.编写测试类</h4><ul><li>通过Jedis客户端对象连接Redis，调用API进行Redis</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testJedis</span><span class="params">()</span><span class="keyword">throws</span> Exception&#123;</span><br><span class="line">    <span class="comment">//创建连接</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">host</span> <span class="operator">=</span><span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line">    <span class="comment">//端口</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">port</span> <span class="operator">=</span> <span class="number">6379</span>;</span><br><span class="line">    <span class="comment">//超时时间,1秒超时</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">timeout</span> <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line">    <span class="comment">//jedis客户端</span></span><br><span class="line">    <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(host,port,timeout);</span><br><span class="line">    <span class="comment">//认证</span></span><br><span class="line">    jedis.auth(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">    <span class="comment">//执行操作,保存值</span></span><br><span class="line">    jedis.set(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;wang da cui&quot;</span>);</span><br><span class="line">    <span class="comment">//获取值</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> jedis.get(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    System.out.print(result);</span><br><span class="line">    <span class="comment">//关闭连接</span></span><br><span class="line">    jedis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-4-连接池的使用"><a href="#2-4-连接池的使用" class="headerlink" title="2.4.连接池的使用"></a>2.4.连接池的使用</h4><p>如果直接使用 <code>Jedis</code>链接Redis会造成频繁的Jedis对象创建和销毁，对性能会有很大的影响，所以我们会选择使用连接池来链接性能。原理同Mysql连接池</p><ul><li>编写测试方法，使用<code>JedisPool</code>连接池对象</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span><span class="keyword">throws</span> Exception&#123;</span><br><span class="line">    <span class="comment">//1 创建jedispool配置对象</span></span><br><span class="line">    <span class="type">JedisPoolConfig</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JedisPoolConfig</span>();</span><br><span class="line">    <span class="comment">//2 做配置</span></span><br><span class="line">    <span class="comment">//最大空闲连接数</span></span><br><span class="line">    config.setMaxIdle(<span class="number">2</span>);</span><br><span class="line">    <span class="comment">//最大链接对象数</span></span><br><span class="line">    config.setMaxTotal(<span class="number">10</span>);</span><br><span class="line">    <span class="comment">//链接超时时间</span></span><br><span class="line">    config.setMaxWaitMillis(<span class="number">1</span>*<span class="number">1000</span>);</span><br><span class="line">    <span class="comment">//获取连接是测试连接是否畅通</span></span><br><span class="line">    config.setTestOnBorrow(<span class="literal">true</span>);</span><br><span class="line">    <span class="comment">//3 创建jedispool连接池对戏</span></span><br><span class="line">    <span class="comment">//参数：配置对象，redis主机地址 ，超时时间，密码</span></span><br><span class="line">    <span class="type">JedisPool</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JedisPool</span>(config,<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">6379</span>,<span class="number">1</span>*<span class="number">1000</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">    <span class="comment">//4 通过jedispool获取连接</span></span><br><span class="line">    <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> pool.getResource();</span><br><span class="line">    <span class="comment">//5 执行操作</span></span><br><span class="line">    jedis.set(<span class="string">&quot;age&quot;</span>,<span class="number">10</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> jedis.get(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">    System.out.println(result);</span><br><span class="line">    <span class="comment">// 6 释放连接 , 底层做了兼容,如果是连接池操作就是释放,如果是连接操作就是关闭</span></span><br><span class="line">    jedis.close(); </span><br><span class="line">    <span class="comment">// 7 摧毁连接池-如果是真正项目中它应该是一个受spring管理的单例</span></span><br><span class="line">    pool.destroy();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>工具类封装：JedisPool应该是单例的(想想你的Mybatis的DataSource也只是创建了一个)，为了方便使用，将<code>JedisPool</code>封装成工具。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPool;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPoolConfig;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取连接池对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">RedisUtils</span> &#123;</span><br><span class="line">    <span class="comment">//使用枚举实现单例</span></span><br><span class="line">    INSTANCE;</span><br><span class="line">    <span class="comment">//连接池对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">JedisPool</span> <span class="variable">jedisPool</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">//初始化链接池</span></span><br><span class="line">        <span class="comment">//1 创建连接池配置对象</span></span><br><span class="line">        <span class="type">JedisPoolConfig</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JedisPoolConfig</span>();</span><br><span class="line">        <span class="comment">//2 进行配置-四个配置</span></span><br><span class="line">        <span class="comment">////最小连接数</span></span><br><span class="line">        config.setMaxIdle(<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//最大连接数</span></span><br><span class="line">        config.setMaxTotal(<span class="number">11</span>);</span><br><span class="line">        <span class="comment">//链接最长等待时间</span></span><br><span class="line">        config.setMaxWaitMillis(<span class="number">10</span> * <span class="number">1000L</span>);</span><br><span class="line">        <span class="comment">//测试连接时是否畅通</span></span><br><span class="line">        config.setTestOnBorrow(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">host</span> <span class="operator">=</span> <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">port</span> <span class="operator">=</span> <span class="number">6379</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">timeout</span> <span class="operator">=</span> <span class="number">10000</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建连接池</span></span><br><span class="line">        jedisPool = <span class="keyword">new</span> <span class="title class_">JedisPool</span>(config, host,port,timeout, password);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取连接</span></span><br><span class="line">    <span class="keyword">public</span> Jedis <span class="title function_">getSource</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> jedisPool.getResource();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//关闭资源</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">closeSource</span><span class="params">(Jedis jedis)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (jedis != <span class="literal">null</span>) &#123;</span><br><span class="line">            jedis.close();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置字符值</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(String key, String value)</span> &#123;</span><br><span class="line">        <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> getSource();</span><br><span class="line">        jedis.set(key, value);</span><br><span class="line">        closeSource(jedis);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置字符值</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> seconds ：过期时间</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setex</span><span class="params">(String key,<span class="type">int</span> seconds, String value)</span> &#123;</span><br><span class="line">        <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> getSource();</span><br><span class="line">        jedis.setex(key,seconds, value);</span><br><span class="line">        closeSource(jedis);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置字符值</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">get</span><span class="params">(String key)</span> &#123;</span><br><span class="line">        <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> getSource();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> jedis.get(key);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            closeSource(jedis);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">byte</span>[] key, <span class="type">byte</span>[] value)</span> &#123;</span><br><span class="line">        <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> getSource();</span><br><span class="line">        jedis.set(key, value);</span><br><span class="line">        closeSource(jedis);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">byte</span>[]  get(<span class="type">byte</span>[] key) &#123;</span><br><span class="line">        <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> getSource();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> jedis.get(key);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            closeSource(jedis);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-Jedis的API操作"><a href="#2-Jedis的API操作" class="headerlink" title="2.Jedis的API操作"></a>2.Jedis的API操作</h3><p>使用jedis来操作redis的key和value，而value有很多种类型，和命令操作一样。</p><h4 id="2-1-key的操作"><a href="#2-1-key的操作" class="headerlink" title="2.1.key的操作"></a>2.1.key的操作</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(jedis.keys(<span class="string">&quot;*&quot;</span>));	<span class="comment">//查看所有的key</span></span><br></pre></td></tr></table></figure><h4 id="2-2-String的操作"><a href="#2-2-String的操作" class="headerlink" title="2.2.String的操作"></a>2.2.String的操作</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(jedis.set(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;zhangsan&quot;</span>));<span class="comment">//新增</span></span><br><span class="line">System.out.println(jedis.get(<span class="string">&quot;name&quot;</span>));<span class="comment">//获取</span></span><br><span class="line">System.out.println(jedis.set(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;zhangsan1&quot;</span>));<span class="comment">//修改</span></span><br><span class="line">System.out.println(jedis.get(<span class="string">&quot;name&quot;</span>));<span class="comment">//获取</span></span><br><span class="line">System.out.println(jedis.del(<span class="string">&quot;name&quot;</span>));<span class="comment">//删除</span></span><br></pre></td></tr></table></figure><h4 id="2-3-List的操作"><a href="#2-3-List的操作" class="headerlink" title="2.3.List的操作"></a>2.3.List的操作</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jedis.lpush(<span class="string">&quot;students1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;6&quot;</span>);	<span class="comment">//添加数据</span></span><br><span class="line">System.out.println(jedis.lrange(<span class="string">&quot;students1&quot;</span>, <span class="number">0</span>, <span class="number">3</span>));	<span class="comment">//获取数据</span></span><br></pre></td></tr></table></figure><ul><li>排序操作，对于数字元素排序不需要加<code>SortingParams</code>，对于字符串需要指定<code>SortingParams</code>，并且指定使用assii值排序</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对数字排序</span></span><br><span class="line">jedis.flushDB();</span><br><span class="line"><span class="comment">//添加数据</span></span><br><span class="line">jedis.lpush(<span class="string">&quot;nums&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;3&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line"><span class="comment">//排序</span></span><br><span class="line">System.out.println(jedis.sort(<span class="string">&quot;nums&quot;</span>));</span><br><span class="line"><span class="comment">//指定排序方式</span></span><br><span class="line"><span class="type">SortingParams</span> <span class="variable">sortingParams1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SortingParams</span>();</span><br><span class="line">sortingParams1.desc();</span><br><span class="line">System.out.println(jedis.sort(<span class="string">&quot;nums&quot;</span>, sortingParams1));</span><br><span class="line"></span><br><span class="line"><span class="comment">//对字母排序</span></span><br><span class="line">jedis.lpush(<span class="string">&quot;langues&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="string">&quot;php&quot;</span>,<span class="string">&quot;c++&quot;</span>,<span class="string">&quot;test&quot;</span>,<span class="string">&quot;ui&quot;</span>);</span><br><span class="line"><span class="type">SortingParams</span> <span class="variable">sortingParams</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SortingParams</span>();</span><br><span class="line">sortingParams.alpha();</span><br><span class="line">sortingParams.desc();</span><br><span class="line"></span><br><span class="line">System.out.println(jedis.sort(<span class="string">&quot;langues&quot;</span>,sortingParams));</span><br></pre></td></tr></table></figure><h4 id="2-4-Set的操作"><a href="#2-4-Set的操作" class="headerlink" title="2.4.Set的操作"></a>2.4.Set的操作</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jedis.sadd(<span class="string">&quot;students2&quot;</span>,<span class="string">&quot;a1&quot;</span>,<span class="string">&quot;b1&quot;</span>,<span class="string">&quot;c1&quot;</span>,<span class="string">&quot;b1&quot;</span>);		<span class="comment">//添加数据</span></span><br><span class="line">System.out.println(jedis.smembers(<span class="string">&quot;students2&quot;</span>));	<span class="comment">//获取成员</span></span><br></pre></td></tr></table></figure><h4 id="2-5-Hash操作"><a href="#2-5-Hash操作" class="headerlink" title="2.5.Hash操作"></a>2.5.Hash操作</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jedis.hset(<span class="string">&quot;students3&quot;</span>,<span class="string">&quot;student&quot;</span>,<span class="string">&quot;zhangsan&quot;</span>);			<span class="comment">//添加数据</span></span><br><span class="line">System.out.println(jedis.hget(<span class="string">&quot;students3&quot;</span>, <span class="string">&quot;student&quot;</span>));	 <span class="comment">//获取数据</span></span><br></pre></td></tr></table></figure><h4 id="2-6-事务操作"><a href="#2-6-事务操作" class="headerlink" title="2.6.事务操作"></a>2.6.事务操作</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">jedis.set(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;zs&quot;</span>);</span><br><span class="line">jedis.set(<span class="string">&quot;age&quot;</span>,<span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//开启事务</span></span><br><span class="line"><span class="type">Transaction</span> <span class="variable">multi</span> <span class="operator">=</span> jedis.multi();</span><br><span class="line">multi.incr(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">multi.incr(<span class="string">&quot;age&quot;</span>);</span><br><span class="line"><span class="comment">//提交事务</span></span><br><span class="line">List&lt;<span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> multi.exec();</span><br><span class="line">System.out.println(result);</span><br><span class="line"></span><br><span class="line"><span class="comment">//关闭连接</span></span><br><span class="line">jedis.close();</span><br><span class="line"></span><br><span class="line"><span class="comment">//关闭连接池</span></span><br><span class="line">pool.destory();</span><br></pre></td></tr></table></figure><h3 id="3-springBoot-spring-data-redis"><a href="#3-springBoot-spring-data-redis" class="headerlink" title="3 springBoot spring data redis"></a>3 springBoot spring data redis</h3><blockquote><p>Spring data：spring对数据操作支持规范，但是我们的数据是多种类型，比如rdbms(msyql)、redis(Nosql)、es、mq</p><p>Spring data redis ：spring操作redis</p><p>Spring data jpa ：操作关系型数据库</p><p>springBoot spring data redis：简化springdata对redis的配置</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--导入spring data redis 的jar包--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.5.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.16.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">jedis:</span></span><br><span class="line">      <span class="attr">pool:</span></span><br><span class="line">        <span class="attr">max-idle:</span> <span class="number">8</span></span><br><span class="line">        <span class="attr">max-active:</span> <span class="number">8</span></span><br><span class="line">        <span class="attr">max-wait:</span> <span class="number">2000</span></span><br></pre></td></tr></table></figure><h2 id="五-Redis的持久化配置"><a href="#五-Redis的持久化配置" class="headerlink" title="五.Redis的持久化配置"></a>五.Redis的持久化配置</h2><h3 id="1-Redis的持久化概念"><a href="#1-Redis的持久化概念" class="headerlink" title="1.Redis的持久化概念"></a>1.Redis的持久化概念</h3><h4 id="1-1-什么是Redis持久化"><a href="#1-1-什么是Redis持久化" class="headerlink" title="1.1.什么是Redis持久化"></a>1.1.什么是Redis持久化</h4><p>因为Redis数据基于内存读写，为了防止Redis服务器关闭或者宕机造成数据丢失，我们通常需要对Redis最磁极化，即：把内从中的数据(命令)保存一份到磁盘做一个备份，当Redis服务关闭或者宕机，</p><p>在Redis服务器重启的时候会从磁盘重新加载备份的数据，不至于数据丢失。 Redis 提供了两种不同级别的持久化方式：RDB和AOF,可以通过修改redis.conf来进行配置.</p><p>开启持久配置后，对Redis进行写操作，在Redis安装目录将会看到持久文件：“appendonly.aof”和“ dump.rdb”。</p><h4 id="1-2-Redis如何保存数据"><a href="#1-2-Redis如何保存数据" class="headerlink" title="1.2.Redis如何保存数据"></a>1.2.Redis如何保存数据</h4><p>redis为了考虑效率,保存数据在内存中.并且考虑数据安全性,还做数据持久化,如果满足保存策略，就会把内存的数据保存到数据rdb文件，还来不及保存那部分数据存放到aof更新日志中。在加载时，把两个数据做一个<strong>并集</strong>。</p><h4 id="1-3-Redis持久化原理图"><a href="#1-3-Redis持久化原理图" class="headerlink" title="1.3.Redis持久化原理图"></a>1.3.Redis持久化原理图</h4><ul><li>保存持久化数据</li></ul><p><img src="/breeze/6a343b7f/1619705898265.png" alt="1619705898265"></p><ul><li>启动Redis载入持久化数据</li></ul><p><img src="/breeze/6a343b7f/1619705913875.png" alt="1619705913875"></p><h4 id="1-3-Redis持久化-RDB"><a href="#1-3-Redis持久化-RDB" class="headerlink" title="1.3.Redis持久化-RDB"></a>1.3.Redis持久化-RDB</h4><p>RDB 持久化可以在指定的时间间隔内生成数据集的时间点快照,默认开启该模式</p><ul><li>如何关闭 rdb 模式?修改配置文件注释如下内容</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">save &quot;&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">save 900 1        <span class="comment">#至少在900秒的时间段内至少有一次改变存储同步一次</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">save xxx</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">save 60 10000</span></span><br></pre></td></tr></table></figure><h4 id="1-4-Redis持久化-AOF"><a href="#1-4-Redis持久化-AOF" class="headerlink" title="1.4.Redis持久化-AOF"></a>1.4.Redis持久化-AOF</h4><p>AOF 持久化记录服务器执行的所有<code>写操作命令</code>，并在服务器启动时，通过重新执行这些命令来还原数据集,默认关闭该模式。</p><ul><li>如何开启aof模式?修改配置文件如下内容</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">appendonly yes        #yes 开启,no 关闭</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">appendfsync always  <span class="comment">#每次有新命令时就执行一次fsync</span></span> </span><br><span class="line"></span><br><span class="line">appendfsync everysec  #每秒 fsync 一次 ,这里我们启用 everysec</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">appendfsync no      <span class="comment">#从不fsync(交给操作系统来处理,可能很久才执行一次fsync)</span></span></span><br><span class="line">					#其它的参数请大家看redis.conf配置文件详解</span><br></pre></td></tr></table></figure><p><strong>图解：</strong></p><p><img src="/breeze/6a343b7f/image-20231023160235267.png" alt="image-20231023160235267"></p><p><img src="/breeze/6a343b7f/image-20231023160312335.png" alt="image-20231023160312335"></p><h3 id="2-Redis持久配置"><a href="#2-Redis持久配置" class="headerlink" title="2.Redis持久配置"></a>2.Redis持久配置</h3><h4 id="2-1-配置文件"><a href="#2-1-配置文件" class="headerlink" title="2.1.配置文件"></a>2.1.配置文件</h4><ul><li>见：redis.windows.conf 或者 redis.conf ，Redis 版本不一样配置文件名字不一样</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- bind 					# 指定的ip才能访问</span><br><span class="line">- port					#默认端口</span><br><span class="line">- timeout				#连接超时</span><br><span class="line">- loglevel				#日志的级别</span><br><span class="line">- logfile				#日志文件输出路径</span><br><span class="line">- databases				#数据库数量</span><br><span class="line">- save 900 1			#RDB持久方式，900 秒有一个数据修改进行持久化</span><br><span class="line">- appendonly			#AOF持久方式</span><br></pre></td></tr></table></figure><h4 id="2-2-Redis持久化配置"><a href="#2-2-Redis持久化配置" class="headerlink" title="2.2.Redis持久化配置"></a>2.2.Redis持久化配置</h4><p>根据业务情况修改配置文件中的持久化配置项目即可</p><h4 id="2-3-数据备份与恢复【了解】"><a href="#2-3-数据备份与恢复【了解】" class="headerlink" title="2.3.数据备份与恢复【了解】"></a>2.3.数据备份与恢复【了解】</h4><p>虽然配置了持久化Redis会进行自动数据备份，我们也可以通过<code>SAVE</code> 或者 <code>BGSAVE</code> (后台备份)命令创建当前数据库的备份</p><ul><li>数据备份执行如下命令</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">save	#该命令将在 redis 安装目录中创建dump.rdb文件。</span><br></pre></td></tr></table></figure><ul><li>恢复数据，将dump.rdb) 移动到 redis 安装目录并启动服务即可。</li><li>在Linux上获取 redis 目录可以使用 CONFIG 命令如：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONFIG GET dir			#返回：&quot;/usr/local/redis/bin&quot;</span><br></pre></td></tr></table></figure><h3 id="3-RDB和AOP区别"><a href="#3-RDB和AOP区别" class="headerlink" title="3.RDB和AOP区别"></a>3.RDB和AOP区别</h3><h4 id="3-1-RDB"><a href="#3-1-RDB" class="headerlink" title="3.1.RDB"></a>3.1.RDB</h4><p>RDB持久化是指在<code>指定的时间间隔</code>内将内存中的<code>数据集快照</code>写入磁盘，实际操作过程是<code>fork一个子进程</code>，先将数据集写入临时文件，写入成功后，再替换之前的文件，用二进制压缩存储 。</p><p><strong>RDB优势如下：</strong></p><p>1). 一旦采用该方式，那么你的整个Redis数据库将<code>只包含一个文件</code>，这对于<code>文件备份</code>而言是非常完美的。比如，你可能打算每个小时归档一次最近24小时的数据，同时还要每天归档一次最近30天的数据。通过这样的备份策略，一旦系统出现灾难性故障，我们可以非常容易的进行恢复。</p><p>2). 对于<code>灾难恢复而言，RDB是非常不错的选择</code>。因为我们可以非常轻松的将一个单独的文件压缩后再转移到其它存储介质上。</p><p>3). <code>性能最大化</code>。对于Redis的服务进程而言，在开始持久化时，它唯一需要做的只是fork出子进程，之后再由子进程完成这些持久化的工作，这样就可以极大的避免服务进程执行IO操作了。</p><p>4). <code>相比于AOF机制，如果数据集很大，RDB的启动效率会更高</code>。</p><p><strong>RDB劣势如下：</strong></p><p>如果你想保证数据的高可用性，即最大限度的避免<code>数据丢失</code>，那么RDB将不是一个很好的选择。因为系统一旦在定时持久化之前出现宕机现象，此前没有来得及写入磁盘的数据都将丢失。</p><p>由于RDB是通过fork子进程来协助完成数据持久化工作的，因此，如果当<code>数据集较大时</code>，可能<code>会导致整个服务器停止服务</code>几百毫秒，甚至是1秒钟。</p><h4 id="3-2-AOF"><a href="#3-2-AOF" class="headerlink" title="3.2.AOF"></a>3.2.AOF</h4><p>AOF持久化以日志的形式记录服务器所处理的每一个<code>写、删除</code>操作，查询操作不会记录，以文本的方式记录，可以打开文件看到详细的操作记录。</p><p><strong>AOF优势如下：</strong></p><p>1). 该机制可以带来<code>更高的数据安全性</code>，即数据持久性。</p><p>2). 由于该机制对日志文件的<code>写入操作采用的是append</code>模式，因此在写入过程中即使出现宕机现象，也不会破坏日志文件中<code>已经存在的内容</code>。然而如果我们本次操作只是写入了一半数据就出现了系统崩溃问题，不用担心，在Redis下一次启动之前，我们可以通过redis-check-aof工具来帮助我们解决数据一致性的问题。</p><p>3). <code>如果日志过大，Redis可以自动启用rewrite机制</code>。即Redis以append模式不断的将修改数据写入到老的磁盘文件中，同时Redis还会创建一个新的文件用于记录此期间有哪些修改命令被执行。因此在进行rewrite切换时可以更好的保证数据安全性。</p><p>4). AOF包含一个<code>格式清晰、易于理解</code>的日志文件用于记录所有的修改操作。事实上，我们也可以通过该文件完成数据的重建。</p><p><strong>AOF的劣势如下:</strong></p><p>1). 于相同数量的数据集而言，<code>AOF文件通常要大于RDB文件</code>。RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快。</p><p>2). 根据同步策略的不同，<code>AOF在运行效率上往往会慢于RDB</code>。总之，每秒同步策略的效率是比较高的，同步禁用策略的效率和RDB一样高效。</p><p>二者选择的标准，就是看系统是愿意牺牲一些性能，换取更高的缓存一致性（aof），还是愿意写操作频繁的时候，不启用备份来换取更高的性能，待手动运行save的时候，再做备份（rdb）。rdb这个就更有些 eventually consistent的意思了。不过生产环境其实更多都是二者结合使用的。</p><h4 id="3-3-总结"><a href="#3-3-总结" class="headerlink" title="3.3.总结"></a>3.3.总结</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">RDB：记录数据快照</span><br><span class="line"> </span><br><span class="line">   优点：  </span><br><span class="line"><span class="code">       1.产生一个持久化文件，方便文件备份 ， 灾难恢复RDB是非常不错的选择</span></span><br><span class="line"><span class="code">       2.Fork子进程去持久化， 性能比AOF好，文件体积更小，启动时恢复速度快</span></span><br><span class="line"><span class="code">   缺点：</span></span><br><span class="line"><span class="code">      1.没办法100%s数据不丢失</span></span><br><span class="line"><span class="code">      2.数据集大，FORk子进程持久化时会服务器卡顿</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"></span><br><span class="line">AOF: 记录写命令</span><br><span class="line">   优点：  </span><br><span class="line"><span class="code">     1.数据更安全</span></span><br><span class="line"><span class="code">     2.采用Append，即使持久的时候宕机，也不影响已经持久的数据</span></span><br><span class="line"><span class="code">     3.日志过大，可以rewrite重写</span></span><br><span class="line"><span class="code">     4.AOF日志格式清晰，容易理解  </span></span><br><span class="line"><span class="code"> </span></span><br><span class="line"><span class="code"></span></span><br><span class="line">   缺点：</span><br><span class="line"><span class="code">      1.AOF文件通常要大于RDB文件</span></span><br><span class="line"><span class="code">      2.AOF数据恢复比RDB慢</span></span><br><span class="line"><span class="code">  </span></span><br><span class="line"><span class="code"></span></span><br><span class="line">最佳实践：二者结合 ，RDB来数据备份，迁移，容灾  。 AOF持久化保证数据不丢失。</span><br></pre></td></tr></table></figure><h2 id="六-Redis的淘汰策略"><a href="#六-Redis的淘汰策略" class="headerlink" title="六.Redis的淘汰策略"></a>六.Redis的淘汰策略</h2><h3 id="1-淘汰策略基本概念"><a href="#1-淘汰策略基本概念" class="headerlink" title="1.淘汰策略基本概念"></a>1.淘汰策略基本概念</h3><h4 id="1-1-为什么要淘汰"><a href="#1-1-为什么要淘汰" class="headerlink" title="1.1.为什么要淘汰"></a>1.1.为什么要淘汰</h4><p>Redis的数据读写基于内存，Redis虽然快，但是内存成本还是比较高的，而且基于内存Redis不适合存储太大量的数据。Redis可以使用电脑物理最大内存，当然我们通常会通过设置<code>maxmemory</code>参数现在Redis内存的使用， 为了让有限的内存空间存储更多的有效数据，我们可以设置淘汰策略，让Redis自动淘汰那些老旧的，或者不怎么被使用的数据。</p><p>redis 确定驱逐某个键值对后，会删除这个数据，并将这个数据变更消息发布到本地（AOF 持久化）和从机（主从连接）。</p><h4 id="2-2-淘汰策略有哪些"><a href="#2-2-淘汰策略有哪些" class="headerlink" title="2.2.淘汰策略有哪些"></a>2.2.淘汰策略有哪些</h4><p><strong><font color="red">必须在配置文件中设置了最大内存的情况下才能生效</font></strong></p><ul><li>volatile-lru ：从已设置过期时间的数据集（server.db[i].expires）中挑选最近最少使用的数据淘汰</li><li>volatile-ttl：从已设置过期时间的数据集（server.db[i].expires）中挑选将要过期的数据淘汰</li><li>volatile-random：从已设置过期时间的数据集（server.db[i].expires）中任意选择数据淘汰</li><li>allkeys-lru：从数据集（server.db[i].dict）中挑选最近最少使用的数据淘汰</li><li>allkeys-random：从数据集（server.db[i].dict）中任意选择数据淘汰</li><li>no-enviction（驱逐）：禁止驱逐数据-永不淘汰</li></ul><h3 id="2-淘汰策略配置"><a href="#2-淘汰策略配置" class="headerlink" title="2.淘汰策略配置"></a>2.淘汰策略配置</h3><h4 id="2-1-最大内存配置"><a href="#2-1-最大内存配置" class="headerlink" title="2.1.最大内存配置"></a>2.1.最大内存配置</h4><ul><li>修改配置redis.windows.conf，修改maxmemory，放开注释， 根据情况设置大小</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">maxmemory &lt;bytes</span><br></pre></td></tr></table></figure><h4 id="2-2-淘汰策略配置"><a href="#2-2-淘汰策略配置" class="headerlink" title="2.2.淘汰策略配置"></a>2.2.淘汰策略配置</h4><ul><li>修改配置redis.windows.conf ，修改maxmemory-policy ，放开注释，按情况修改策略</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">maxmemory-policy noeviction		#noeviction 为默认的策略，根据情况修改</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="1-重点"><a href="#1-重点" class="headerlink" title="1.重点"></a>1.重点</h3><p>1.1.Redis使用场景 - 4☆</p><p>1.2.Redis的特点 - 4☆</p><p>1.3.五种数据结构和常用命令 - 5☆</p><p>1.4.Java中使用Jedis - 5☆</p><p>1.5.集群和分布式相关概念 - 5☆</p><p>1.6.Redis三种集群模式 - <strong>5☆</strong></p><p>1.7.持久化方案 - 4☆</p><p>1.8.淘汰策略 - 4☆</p><h3 id="2-相关文章"><a href="#2-相关文章" class="headerlink" title="2.相关文章"></a>2.相关文章</h3><p>4.1.10个常见的Redis面试题</p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/yangzhong0808/article/details/81196472">https://blog.csdn.net/yangzhong0808/article/details/81196472</a></p><p>4.2.2018最全Redis面试题整理</p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/wchengsheng/article/details/79925654">https://blog.csdn.net/wchengsheng/article/details/79925654</a></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://mliutm.github.io">清风</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://mliutm.github.io/breeze/6a343b7f.html">https://mliutm.github.io/breeze/6a343b7f.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://mliutm.github.io" target="_blank">清风</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Redis/">Redis</a></div><div class="post_share"><div class="social-share" data-image="/img/premium_photo-1695185954894-e9382c6f4da8.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/breeze/a4950fb1.html" title="Redis实战-黑马点评"><img class="cover" src="/img/photo-1688475747590-d0db5e2412cb.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Redis实战-黑马点评</div></div></a></div><div class="next-post pull-right"><a href="/breeze/f0e3a38d.html" title="MySQL增强"><img class="cover" src="/img/photo-1645943020355-305df166473d.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">MySQL增强</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/breeze/e146ce46.html" title="Redis原理篇（五）"><img class="cover" src="/img/photo-1645943020355-305df166473d.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-24</div><div class="title">Redis原理篇（五）</div></div></a></div><div><a href="/breeze/7b9a7f83.html" title="Redis高级-分布式缓存（二）"><img class="cover" src="/img/photo-1688475747590-d0db5e2412cb.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-24</div><div class="title">Redis高级-分布式缓存（二）</div></div></a></div><div><a href="/breeze/64a93110.html" title="Redis高级-多级缓存（三）"><img class="cover" src="/img/premium_photo-1695185954894-e9382c6f4da8.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-24</div><div class="title">Redis高级-多级缓存（三）</div></div></a></div><div><a href="/breeze/b10dac0f.html" title="Redis高级-最佳实战（四）"><img class="cover" src="/img/photo-1692708632140-ee01624d558d.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-24</div><div class="title">Redis高级-最佳实战（四）</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">清风</div><div class="author-info__description">清风洒六合，邈然不可攀</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">142</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">72</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:huangpan0805@163.com" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div><timing></timing></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AE%B9"><span class="toc-text">内容</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-Redis%E6%A6%82%E5%BF%B5"><span class="toc-text">一.Redis概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-NOSQL"><span class="toc-text">1.NOSQL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E4%BB%80%E4%B9%88%E6%98%AFNOSQL"><span class="toc-text">1.1.什么是NOSQL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">关系型数据库与非关系型数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-NOSQL%E5%88%86%E7%B1%BB"><span class="toc-text">1.2.NOSQL分类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Redis"><span class="toc-text">2.Redis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E4%BB%80%E4%B9%88%E6%98%AFRedis"><span class="toc-text">2.1.什么是Redis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-Redis%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">2.2.Redis的特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-Redis%E3%80%81Memcached%E3%80%81Mysql%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-text">2.3.Redis、Memcached、Mysql的比较</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-Redis%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">2.4.Redis的使用场景</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-Redis%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-text">二.Redis的安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%B8%8B%E8%BD%BD%E5%92%8C%E5%AE%89%E8%A3%85"><span class="toc-text">1.下载和安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E4%B8%8B%E8%BD%BDRedis"><span class="toc-text">1.1.下载Redis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E5%AE%89%E8%A3%85Redis"><span class="toc-text">1.2.安装Redis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-Redis%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D"><span class="toc-text">1.3.Redis目录介绍</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Redis%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95"><span class="toc-text">2.Redis启动和测试</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E5%90%AF%E5%8A%A8redis-server"><span class="toc-text">2.1.启动redis-server</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E5%90%AF%E5%8A%A8redis-client"><span class="toc-text">2.2.启动redis-client</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E6%B5%8B%E8%AF%95Redis"><span class="toc-text">2.3 测试Redis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81"><span class="toc-text">2.4 设置密码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-4-1-%E4%B8%B4%E6%97%B6%E8%AE%BE%E7%BD%AE"><span class="toc-text">2.4.1 临时设置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-4-2-%E6%B0%B8%E4%B9%85%E8%AE%BE%E7%BD%AE"><span class="toc-text">2.4.2 永久设置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-4-3-%E7%99%BB%E5%BD%95"><span class="toc-text">2.4.3 登录</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-Redis%E5%91%BD%E4%BB%A4%E5%85%A5%E9%97%A8"><span class="toc-text">三.Redis命令入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-String%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">1.String的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-String%E7%BB%93%E6%9E%84"><span class="toc-text">2.1.String结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-set-key-value"><span class="toc-text">2.2.set key value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-get-key"><span class="toc-text">2.3.get key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-mset-key-value-key-value"><span class="toc-text">2.4.mset key value key value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-mget-key-key"><span class="toc-text">2.5.mget key key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-incr-key"><span class="toc-text">2.6.incr key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-7-decr-key"><span class="toc-text">2.7.decr key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-8-incrby-keynumber"><span class="toc-text">2.8.incrby key	number</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-9-decrby-keynumber"><span class="toc-text">2.9.decrby key	number</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-10-SETEX-key-seconds-value"><span class="toc-text">2.10.SETEX key seconds value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-11-SETNX-key-value"><span class="toc-text">2.11.SETNX key value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-12-GETSET-key-value"><span class="toc-text">2.12.GETSET key value</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-key%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">2.key的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-keys"><span class="toc-text">2.1.keys</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-del-key"><span class="toc-text">2.2.del key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-expire-key-secnods"><span class="toc-text">2.3.expire key secnods</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-ttl-key"><span class="toc-text">2.4.ttl key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-flushall"><span class="toc-text">2.5.flushall</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-flushdb"><span class="toc-text">2.6.flushdb</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-7-select-index"><span class="toc-text">2.7.select index</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-8-exists-key"><span class="toc-text">2.8.exists key</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-List%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">3.List的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-List%E7%BB%93%E6%9E%84"><span class="toc-text">3.1.List结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-lpush-key-value-value"><span class="toc-text">3.2.lpush key value value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-lrange-key-start-stop"><span class="toc-text">3.3.lrange key start stop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-rpush-key-value-value"><span class="toc-text">3.4.rpush key value value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-lpop-key"><span class="toc-text">3.5.lpop key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-rpop-key"><span class="toc-text">3.6.rpop key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-7-lrem-key-count-value"><span class="toc-text">3.7.lrem key count value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-8-lindex-key-index"><span class="toc-text">3.8.lindex key index</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-9-ltrim-key-start-stop"><span class="toc-text">3.9.ltrim key start stop</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-10-Redis%E4%B8%AD%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97"><span class="toc-text">3.10.Redis中如何实现栈和队列</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Set%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">4.Set的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-Set%E7%BB%93%E6%9E%84"><span class="toc-text">4.1.Set结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-sadd-key-value-value"><span class="toc-text">4.2.sadd key value value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-smembers-key"><span class="toc-text">4.3.smembers key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-srem-key-member"><span class="toc-text">4.4.srem key member</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-5-SCARD-key"><span class="toc-text">4.5.SCARD key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-6-SDIFF-key-key-%E2%80%A6"><span class="toc-text">4.6.SDIFF key [key …]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-7-SISMEMBER-key-member"><span class="toc-text">4.7.SISMEMBER key member</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-ZSet%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">5.ZSet的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-ZSet%E7%BB%93%E6%9E%84"><span class="toc-text">5.1.ZSet结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-zadd-key-score-value-score-value"><span class="toc-text">5.2.zadd key score value score value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-3-ZCARD-key"><span class="toc-text">5.3.ZCARD key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-4-ZCOUNT-key-min-max"><span class="toc-text">5.4.ZCOUNT key min max</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-5-ZPOPMAX-key-count"><span class="toc-text">5.5.ZPOPMAX key [count]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-6-ZPOPMIN-key-count"><span class="toc-text">5.6.ZPOPMIN key [count]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-7-ZRANGE-key-start-stop-WITHSCORES"><span class="toc-text">5.7.ZRANGE key start stop [WITHSCORES]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-8-ZRANK-key-member"><span class="toc-text">5.8.ZRANK key member</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-9-ZREVRANK-key-member"><span class="toc-text">5.9.ZREVRANK key member</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-10-ZSCORE-key-member"><span class="toc-text">5.10.ZSCORE key member</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-11-ZREVRANGE-key-start-stop-WITHSCORES"><span class="toc-text">5.11.ZREVRANGE key start stop [WITHSCORES]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-12-ZRANGEBYSCORE-key-min-max-WITHSCORES-LIMIT-offset-count"><span class="toc-text">5.12.ZRANGEBYSCORE key min max WITHSCORES LIMIT offset count</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-13-ZREVRANGEBYSCORE-key-max-min-WITHSCORES-LIMIT-offset-count"><span class="toc-text">5.13.ZREVRANGEBYSCORE key max min WITHSCORES LIMIT offset count</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-Hash%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">6.Hash的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-1-Hash%E7%BB%93%E6%9E%84"><span class="toc-text">6.1.Hash结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-HSET-key-field-value"><span class="toc-text">6.2.HSET key field value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-HGet-key-name"><span class="toc-text">6.3.HGet key name</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-4-HMSET-key-field-value-field-value"><span class="toc-text">6.4.HMSET key field value field value</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-5-HMGET-key-field-field"><span class="toc-text">6.5.HMGET key field field</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-6-hkeys-key"><span class="toc-text">6.6.hkeys key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-7-hvals-key"><span class="toc-text">6.7.hvals key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-8-hgetall-key"><span class="toc-text">6.8.hgetall key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-9-%E5%AD%98%E5%82%A8%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">6.9.存储对象的两种方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%89%A9%E5%B1%95"><span class="toc-text">7.扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-SORT-key"><span class="toc-text">7.1.SORT key</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-Java%E6%93%8D%E4%BD%9CRedis"><span class="toc-text">四.Java操作Redis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Java%E9%9B%86%E6%88%90Jedis"><span class="toc-text">1.Java集成Jedis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E6%90%AD%E5%BB%BA%E5%B7%A5%E7%A8%8B"><span class="toc-text">1.1.搭建工程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E5%AF%BC%E5%85%A5Jedis%E4%BE%9D%E8%B5%96"><span class="toc-text">1.2.导入Jedis依赖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E7%B1%BB"><span class="toc-text">2.3.编写测试类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-%E8%BF%9E%E6%8E%A5%E6%B1%A0%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">2.4.连接池的使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Jedis%E7%9A%84API%E6%93%8D%E4%BD%9C"><span class="toc-text">2.Jedis的API操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-key%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">2.1.key的操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-String%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">2.2.String的操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-List%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">2.3.List的操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-Set%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-text">2.4.Set的操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-Hash%E6%93%8D%E4%BD%9C"><span class="toc-text">2.5.Hash操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-6-%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C"><span class="toc-text">2.6.事务操作</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-springBoot-spring-data-redis"><span class="toc-text">3 springBoot spring data redis</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-Redis%E7%9A%84%E6%8C%81%E4%B9%85%E5%8C%96%E9%85%8D%E7%BD%AE"><span class="toc-text">五.Redis的持久化配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Redis%E7%9A%84%E6%8C%81%E4%B9%85%E5%8C%96%E6%A6%82%E5%BF%B5"><span class="toc-text">1.Redis的持久化概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E4%BB%80%E4%B9%88%E6%98%AFRedis%E6%8C%81%E4%B9%85%E5%8C%96"><span class="toc-text">1.1.什么是Redis持久化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-Redis%E5%A6%82%E4%BD%95%E4%BF%9D%E5%AD%98%E6%95%B0%E6%8D%AE"><span class="toc-text">1.2.Redis如何保存数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-Redis%E6%8C%81%E4%B9%85%E5%8C%96%E5%8E%9F%E7%90%86%E5%9B%BE"><span class="toc-text">1.3.Redis持久化原理图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-Redis%E6%8C%81%E4%B9%85%E5%8C%96-RDB"><span class="toc-text">1.3.Redis持久化-RDB</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-Redis%E6%8C%81%E4%B9%85%E5%8C%96-AOF"><span class="toc-text">1.4.Redis持久化-AOF</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Redis%E6%8C%81%E4%B9%85%E9%85%8D%E7%BD%AE"><span class="toc-text">2.Redis持久配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">2.1.配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-Redis%E6%8C%81%E4%B9%85%E5%8C%96%E9%85%8D%E7%BD%AE"><span class="toc-text">2.2.Redis持久化配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%E3%80%90%E4%BA%86%E8%A7%A3%E3%80%91"><span class="toc-text">2.3.数据备份与恢复【了解】</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-RDB%E5%92%8CAOP%E5%8C%BA%E5%88%AB"><span class="toc-text">3.RDB和AOP区别</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-RDB"><span class="toc-text">3.1.RDB</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-AOF"><span class="toc-text">3.2.AOF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-%E6%80%BB%E7%BB%93"><span class="toc-text">3.3.总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-Redis%E7%9A%84%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5"><span class="toc-text">六.Redis的淘汰策略</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">1.淘汰策略基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%B7%98%E6%B1%B0"><span class="toc-text">1.1.为什么要淘汰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-text">2.2.淘汰策略有哪些</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5%E9%85%8D%E7%BD%AE"><span class="toc-text">2.淘汰策略配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E6%9C%80%E5%A4%A7%E5%86%85%E5%AD%98%E9%85%8D%E7%BD%AE"><span class="toc-text">2.1.最大内存配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5%E9%85%8D%E7%BD%AE"><span class="toc-text">2.2.淘汰策略配置</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%87%8D%E7%82%B9"><span class="toc-text">1.重点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%9B%B8%E5%85%B3%E6%96%87%E7%AB%A0"><span class="toc-text">2.相关文章</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/breeze/736eb1c8.html" title="分布式任务调度--xxl-job"><img src="/img/photo-1645943020355-305df166473d.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="分布式任务调度--xxl-job"></a><div class="content"><a class="title" href="/breeze/736eb1c8.html" title="分布式任务调度--xxl-job">分布式任务调度--xxl-job</a><time datetime="2024-01-16T12:29:19.000Z" title="发表于 2024-01-16 20:29:19">2024-01-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/breeze/7a1a4477.html" title="认证授权-SpringSecurity"><img src="/img/premium_photo-1695185954894-e9382c6f4da8.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="认证授权-SpringSecurity"></a><div class="content"><a class="title" href="/breeze/7a1a4477.html" title="认证授权-SpringSecurity">认证授权-SpringSecurity</a><time datetime="2024-01-16T01:41:55.000Z" title="发表于 2024-01-16 09:41:55">2024-01-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/breeze/7913ff38.html" title="ElasticSearch集群"><img src="/img/premium_photo-1695185954894-e9382c6f4da8.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="ElasticSearch集群"></a><div class="content"><a class="title" href="/breeze/7913ff38.html" title="ElasticSearch集群">ElasticSearch集群</a><time datetime="2024-01-14T14:34:16.000Z" title="发表于 2024-01-14 22:34:16">2024-01-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/breeze/37cf2cfd.html" title="Redis集群"><img src="/img/photo-1645943020355-305df166473d.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Redis集群"></a><div class="content"><a class="title" href="/breeze/37cf2cfd.html" title="Redis集群">Redis集群</a><time datetime="2024-01-14T14:27:18.000Z" title="发表于 2024-01-14 22:27:18">2024-01-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/breeze/4b0178e0.html" title="数据结构与算法"><img src="/img/premium_photo-1695185954894-e9382c6f4da8.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="数据结构与算法"></a><div class="content"><a class="title" href="/breeze/4b0178e0.html" title="数据结构与算法">数据结构与算法</a><time datetime="2024-01-14T13:51:48.000Z" title="发表于 2024-01-14 21:51:48">2024-01-14</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(/img/premium_photo-1695185954894-e9382c6f4da8.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 <i id="heartbeat" class="fa fas fa-heartbeat"></i> 清风</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></head></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script src="/js/timing.js"></script><script id="canvas_nest" defer color="255,0,255" opacity="0.7" zindex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!0,document.body.addEventListener("input",POWERMODE)</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="天枢,天璇,天玑,天权,玉衡,开阳,瑶光" data-fontsize="15px" data-random="true" async></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>