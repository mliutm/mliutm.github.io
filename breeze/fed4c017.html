<!DOCTYPE html><html class="hide-aside" lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>IO流 | 清风</title><meta name="author" content="清风"><meta name="copyright" content="清风"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="IO流介绍 什么是IO流及分类;（了解） 字节流【重点掌握】 读写乱码问题-字符编码（了解） 字符流【掌握】 字节流和字符流的区别（理解） 转换流（掌握） 缓冲流【掌握】 打印流  【掌握】 IO流中的异常处理（1.7）【掌握】 随机访问文件RandomAccessFile【掌握】断点续传  1. 什么是IO流及分类1.1. 什么是IO流 1.2. IO流如何分类​	任何事物提到分类都必须有一个分"><meta property="og:type" content="article"><meta property="og:title" content="IO流"><meta property="og:url" content="https://mliutm.github.io/breeze/fed4c017.html"><meta property="og:site_name" content="清风"><meta property="og:description" content="IO流介绍 什么是IO流及分类;（了解） 字节流【重点掌握】 读写乱码问题-字符编码（了解） 字符流【掌握】 字节流和字符流的区别（理解） 转换流（掌握） 缓冲流【掌握】 打印流  【掌握】 IO流中的异常处理（1.7）【掌握】 随机访问文件RandomAccessFile【掌握】断点续传  1. 什么是IO流及分类1.1. 什么是IO流 1.2. IO流如何分类​	任何事物提到分类都必须有一个分"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://mliutm.github.io/img/photo-1645943020355-305df166473d.jpg"><meta property="article:published_time" content="2023-10-15T07:20:12.000Z"><meta property="article:modified_time" content="2024-01-13T03:12:44.483Z"><meta property="article:author" content="清风"><meta property="article:tag" content="java"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://mliutm.github.io/img/photo-1645943020355-305df166473d.jpg"><link rel="shortcut icon" href="/img/favicon.jpg"><link rel="canonical" href="https://mliutm.github.io/breeze/fed4c017.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,top_n_per_article:1,unescape:!1,languages:{hits_empty:"找不到您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!1,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"IO流",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2024-01-13 11:12:44"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,a){0!==a&&(a=864e5*a,t={value:t,expiry:(new Date).getTime()+a},localStorage.setItem(e,JSON.stringify(t)))},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);if(!((new Date).getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=o=>new Promise((t,e)=>{const a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.getCSS=(o,n=!1)=>new Promise((t,e)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=o,n&&(a.id=n),a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};e=saveToLocal.get("theme"),"dark"===e?activateDarkMode():"light"===e&&activateLightMode(),e=saveToLocal.get("aside-status");void 0!==e&&("hide"===e?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/background.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">162</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">77</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">29</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/photo-1645943020355-305df166473d.jpg)"><nav id="nav"><span id="blog-info"><a href="/" title="清风"><span class="site-name">清风</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">IO流</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-10-15T07:20:12.000Z" title="发表于 2023-10-15 15:20:12">2023-10-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-13T03:12:44.483Z" title="更新于 2024-01-13 11:12:44">2024-01-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/javaSE/">javaSE</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>14分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="IO流"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h1><h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><ul><li>什么是IO流及分类;（了解）</li><li>字节流【重点掌握】</li><li>读写乱码问题-字符编码（了解）</li><li>字符流【掌握】</li><li>字节流和字符流的区别（理解）</li><li>转换流（掌握）</li><li>缓冲流【掌握】</li><li>打印流 【掌握】</li><li>IO流中的异常处理（1.7）【掌握】</li><li>随机访问文件RandomAccessFile【掌握】断点续传</li></ul><h1 id="1-什么是IO流及分类"><a href="#1-什么是IO流及分类" class="headerlink" title="1. 什么是IO流及分类"></a><strong>1.</strong> 什么是IO流及分类</h1><h2 id="1-1-什么是IO流"><a href="#1-1-什么是IO流" class="headerlink" title="1.1. 什么是IO流"></a>1.1. <strong>什么是IO流</strong></h2><p><img src="/breeze/fed4c017/1655257982232.png" alt="1655257982232"></p><h2 id="1-2-IO流如何分类"><a href="#1-2-IO流如何分类" class="headerlink" title="1.2. IO流如何分类"></a>1.2. <strong>IO流如何分类</strong></h2><p>​	任何事物提到分类都必须有一个分类的标准，例如人，按照肤色可分为：黄的，白的，黑的；按照性别可分为：男，女，人妖。IO流的常见分类标准是按照****流动方向*<em><strong>和</strong></em>*操作数据单位****来分的。</p><p>1．流动方法：输入 输出（<strong>以程序为基准</strong>）</p><p>2．操作单位：字节（8bit-011b） 字符（ab）</p><p><img src="/breeze/fed4c017/wps591C.tmp.jpg" alt="img"></p><p>Java中的IO流主要都派生至一下4大抽象流，[抽象流——-&gt;抽象类] : 都是java.io包中的，分为如下四种</p><table><thead><tr><th>操作单位流动方向</th><th>输入流</th><th>输出流</th></tr></thead><tbody><tr><td>字节流</td><td>InputStream（抽象类）</td><td>OutputStream（抽象类）</td></tr><tr><td>字符流</td><td>Reader</td><td>Writer</td></tr></tbody></table><h2 id="1-3-小结"><a href="#1-3-小结" class="headerlink" title="1.3. 小结"></a>1.3. <strong>小结</strong></h2><p>1．输入流中主要就是学习 读取的方法 <strong>read</strong></p><p>2．输出流中主要就是学习 写出的方法 <strong>write</strong></p><h1 id="2-字节流"><a href="#2-字节流" class="headerlink" title="2. 字节流"></a>2. <strong>字节流</strong></h1><h2 id="2-1-字节输入流FileInputStream"><a href="#2-1-字节输入流FileInputStream" class="headerlink" title="2.1. 字节输入流FileInputStream"></a>2.1. <strong>字节输入流FileInputStream</strong></h2><p>现在我们需要读取记事本文件中的数据，经过分析需要找到一个输入流来读取文件内容，所以找到了InputStream(字节输入流)，但是此类是抽象类,而且读文件的方法（read）是实例方法，</p><p>所以我们向下找子类来创建对象并调用方法，<strong>InputStream</strong>有很多的子类，其中最常用的是文件流<strong>FileInputStream</strong>了，主要用来操作文件的。</p><h3 id="2-1-1-如何读取文件内容"><a href="#2-1-1-如何读取文件内容" class="headerlink" title="2.1.1. 如何读取文件内容"></a>2.1.1. <strong>如何读取文件内容</strong></h3><p>构造方法:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>．FileInputStream(File file) 	 表示从file指向的文件中读取</span><br><span class="line"><span class="number">2</span>．FileInputStream(String name) name表示文件的路径名(路径+文件名) </span><br></pre></td></tr></table></figure><p>读取的方法:</p><p>1．<strong>int read()</strong></p><p>​	调用一次读到一个数据字节,返回的int值就是读到的数据</p><p>​	如果已到达文件末尾，则返回 -1</p><p>2．<strong>int read(byte[] b)</strong></p><p>​	调用一次本方法表示可以读取多个数据</p><p>​	读到的内容保存传入的byte数组b中</p><p>​	返回的是本次调用方法读到的数据字节个数</p><p>​	思考? b数组是有长度,干嘛还要单独返回读到的个数呢?</p><p>3．int read(byte[] b, int off, int len)</p><p>​	和上面的第二个类似,可以指定从b数组什么位置开始装</p><p>使用循环读取整个文件内容</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">read</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//准备一个变量 : 将读取的每一个字节的数据,;零时存入到该变量</span></span><br><span class="line"><span class="keyword">while</span>(   (read = fis.read())   != -<span class="number">1</span>     )&#123;<span class="comment">//用read保存的结果:跟-1比较</span></span><br><span class="line">	System.out.println((<span class="type">char</span>)read);<span class="comment">//每次保存的结果,强转成字符</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用一次读取一个数组的方式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> len;<span class="comment">//读取的字节的个数</span></span><br><span class="line"><span class="type">byte</span>[] arr = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];<span class="comment">//五个字节的数据,缓存在该数组的</span></span><br><span class="line"><span class="keyword">while</span>(   (len = fis.read(arr))  !=  -<span class="number">1</span>  )&#123;</span><br><span class="line">	System.out.println(  <span class="keyword">new</span> <span class="title class_">String</span>(arr,<span class="number">0</span>,len) );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-1-2-读取中文产生乱码原因分析"><a href="#2-1-2-读取中文产生乱码原因分析" class="headerlink" title="2.1.2. 读取中文产生乱码原因分析"></a>2.1.2. <strong>读取中文产生乱码原因分析</strong></h3><p>总结（字节输入流读取的流程以及注意事项）</p><ol><li><p>搞清楚是需要读文件还是写文件 —&gt; 选择什么流</p></li><li><p>明确读哪个文件</p></li><li><p>创建一个输入流的对象(目的是为了调用其中的read方法)</p></li><li><p>调用读取方法获得数据</p></li><li><p>关闭流资源 通过流对象来调用close方法(流关闭之后是不能够在操作的-读取)</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 读取的文本内容：Ab中文</span></span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;cc.txt&quot;</span>);</span><br><span class="line">		<span class="type">int</span> len;</span><br><span class="line">		<span class="type">byte</span>[] arr = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1</span>];<span class="comment">//一次只读取一个字节：但是中文字节数不止一个</span></span><br><span class="line">		<span class="keyword">while</span>(   (len = fis.read(arr))  !=  -<span class="number">1</span>  )&#123;</span><br><span class="line">			System.out.print(  <span class="keyword">new</span> <span class="title class_">String</span>(arr,<span class="number">0</span>,len) );</span><br><span class="line">		&#125;</span><br><span class="line">		fis.close();</span><br><span class="line">		</span><br><span class="line">		ab????</span><br></pre></td></tr></table></figure><p><strong>注意事项:</strong></p><p>中文乱码的问题 ，一个中文是两个数据字节, read() 一次读到的是一个数据字节,期待后面的字符流，定义临时读取的数组的长度问题，适当大小即可,最好不要想一次读完</p><h2 id="2-2-字节流输出流（FileOutputStream）"><a href="#2-2-字节流输出流（FileOutputStream）" class="headerlink" title="2.2. 字节流输出流（FileOutputStream）"></a>2.2. <strong>字节流输出流（FileOutputStream）</strong></h2><p>现在我们需要将代码中的数据保存到记事本文件中，经过分析需要找到一个输出流来把数据写入到文件中，所以找到了OutputStream(字节输出流)，但是此类是抽象类,而且写文件的方法（write）是实例方法，所以我们向下找子类来创建对象并调用方法，<strong>OutputStream</strong>有很多的子类，其中最常用的算是文件流<strong>FileOutputStream</strong>了，主要用来操作文件的。</p><h3 id="2-2-1-如何把数据写入文件中"><a href="#2-2-1-如何把数据写入文件中" class="headerlink" title="2.2.1. 如何把数据写入文件中"></a>2.2.1. <strong>如何把数据写入文件中</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">构造方法:</span><br><span class="line">FileOutputStream(File file) <span class="comment">//覆盖</span></span><br><span class="line"></span><br><span class="line">FileOutputStream(String name)<span class="comment">//覆盖</span></span><br><span class="line"></span><br><span class="line">FileOutputStream(File file, <span class="type">boolean</span> append追加)  <span class="comment">//append追加</span></span><br><span class="line"></span><br><span class="line">FileOutputStream(String name, <span class="type">boolean</span> append) </span><br><span class="line">    </span><br><span class="line">方法:</span><br><span class="line"></span><br><span class="line"> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">int</span> b)</span>	调用一次写入一个数据字节</span><br><span class="line"></span><br><span class="line"> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] b)</span>   调用一次,可以把一个<span class="type">byte</span>数组中的数据写入</span><br><span class="line"></span><br><span class="line"> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] b, <span class="type">int</span> off, <span class="type">int</span> len)</span>  调用一次,把b数组中的一部分数据写入			</span><br></pre></td></tr></table></figure><p>注意: FileOutputStream 会自动创建一个文件(如果文件不存在,并且文件的路径存在的)</p><ol><li><p>写单个数据字节</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:/123.avi&quot;</span>);		os.write(<span class="number">65</span>);os.close();</span><br></pre></td></tr></table></figure></li><li><p>写一个字符串</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:/123.txt&quot;</span>,<span class="literal">true</span>);os.write(<span class="string">&quot;66666&quot;</span>.getBytes());os.close();</span><br></pre></td></tr></table></figure></li></ol><p>总结</p><ol><li><p>确定输出到哪里去</p></li><li><p>创建输 出流的对象(调用输入write方法)</p></li><li><p>调用write方法写数据</p></li><li><p>关闭流资源</p></li></ol><h2 id="2-3-读写乱码问题-字符编码"><a href="#2-3-读写乱码问题-字符编码" class="headerlink" title="2.3. 读写乱码问题-字符编码"></a>2.3. <strong>读写乱码问题-字符编码</strong></h2><ol><li><p>乱码怎么产生的</p><p>i. 编码和解码规则不一致</p><p>ii. 本身这个字符编码不支持某种语言(中文)</p></li><li><p>代码提现-尽可能避免乱码的产生</p><p>编码 : String —&gt; byte[] String中有对应的方法:</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span>[] getBytes() 使用平台的默认字符集将此 String 编  <span class="type">byte</span>[] getBytes(Charset charset) 使用指定的字符编码来编码字符串</span><br><span class="line"><span class="type">byte</span>[] getBytes(String charsetName) 使用指定的字符编码来编码字符串</span><br></pre></td></tr></table></figure><p>解码 : byte[] —&gt; String String中有对应的构造方法:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String(<span class="type">byte</span>[] bytes) 通过使用平台的默认字符集解码指定的 <span class="type">byte</span> 数组</span><br><span class="line">String(<span class="type">byte</span>[] bytes, Charset charset) 使用指定的字符集来解码指定的<span class="type">byte</span>数组</span><br><span class="line">String(<span class="type">byte</span>[] bytes, String charsetName) 使用指定的字符集来解码指定的<span class="type">byte</span>数组</span><br></pre></td></tr></table></figure><ol start="3"><li><p>字符编码</p><p>什么是字符编码</p><p>​ 例如有一个字 : 好 —-&gt; 存储到磁盘</p></li></ol><p>常见的字符编码</p><p><strong>ASCII编码</strong>：用来表示英文，它使用1个字节表示，其中第一位规定为0，其他7位存储数据，一共可以表示128个字符。</p><p><strong>拓展ASCII编码</strong>：用于表示更多的欧洲文字，用8个位存储数据，一共可以表示256个字符</p><p><strong>GBK&#x2F;GB2312&#x2F;GB18030</strong>：简称国标，表示汉字。GB2312表示简体中文，GBK&#x2F;GB18030表示繁体中文,其实就是几个不同的版本而已。</p><p><strong>Unicode</strong>编码：包含世界上所有的字符，是一个字符集。</p><p><strong>UTF-8</strong>：是Unicode字符的实现方式之一，它使用1-4个字符表示一个符号，根据不同的符号而变化字节长度</p><p><strong>ISO-8859-1</strong>:是单字节编码，向下兼容ASCII,<strong>不支持中文</strong>！</p><p><strong>友情提醒</strong></p><p>实际web开发 前台网页 后台Java程序 数据库 多个地方都会涉及到字符编码-&gt; 一定要一致 统一设置为utf-8</p><h1 id="3-字符流"><a href="#3-字符流" class="headerlink" title="3. 字符流"></a>3. 字符流</h1><h2 id="3-1-为什么需要学习字符流"><a href="#3-1-为什么需要学习字符流" class="headerlink" title="3.1. 为什么需要学习字符流"></a>3.1. <strong>为什么需要学习字符流</strong></h2><p>使用字节流来操作中文的时候非常不方便,容易产生乱码,字符流他不管你是哪种编码方式都按照一个字符一个字符的方式读取数据。以后操作文本文件使用字符流，其他的使用字节流（视频，音频，图片等多媒体资源）</p><h2 id="3-2-字符流-文件输入流-FileReader"><a href="#3-2-字符流-文件输入流-FileReader" class="headerlink" title="3.2. 字符流-文件输入流(FileReader)"></a>3.2. 字符流-文件输入流(FileReader)</h2><p>其中的构造方法和方法和字节流输入流FileInputStream非常类似,差别就是单位是char</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Reader</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;D:/123.txt&quot;</span>);</span><br><span class="line"><span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">3</span>];</span><br><span class="line"><span class="type">int</span> len;</span><br><span class="line"><span class="keyword">while</span>((len = r.read(cbuf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">    System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(cbuf,<span class="number">0</span>,len));</span><br><span class="line">&#125;</span><br><span class="line">r.close();</span><br></pre></td></tr></table></figure><h2 id="3-3-字符流-文件输出流-FileWriter"><a href="#3-3-字符流-文件输出流-FileWriter" class="headerlink" title="3.3. 字符流-文件输出流(FileWriter)"></a>3.3. <strong>字符流-文件输出流(FileWriter)</strong></h2><p>特有的方法: 可以直接写字符串</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String str)</span>  写入字符串。 </span><br><span class="line"><span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String str, <span class="type">int</span> off, <span class="type">int</span> len)</span> 写入字符串的一部分</span><br></pre></td></tr></table></figure><h1 id="4-字节流和字符流的区别"><a href="#4-字节流和字符流的区别" class="headerlink" title="4. 字节流和字符流的区别"></a>4. 字节流和字符流的区别</h1><ol><li><p>操作的单位不一样,一个是字节,一个是字符</p></li><li><p>操作中文的时候使用字符流更方便, 字节流更广泛:文本,视频,音频,图片…</p></li><li><p>注意：<strong>以后只有读取文件中文本内容或者向文件中输出文本内容的时候，才使用字符流</strong>，其他情况全部使用字节流</p></li><li><p>字符流中有可以<strong>直接写字符串的方法</strong></p></li><li><p>字节输出流 : 程序 —&gt; 磁盘文件 如果不关闭流也会写入</p><p>字符输出流 : 程序 —&gt; 缓冲 —&gt; 磁盘文件 如果不关闭流或者刷新缓冲区,不会写入文件</p><p>字符输出流,关闭的时候会先刷新,关闭之后不能够在操作,刷新之后可以继续操作</p><p>什么时候会用到刷新 : 写入的数据,比较多,可以在中途手动调用刷新的方法提交数据</p></li></ol><p>自己写代码测试上面的效果</p><h1 id="5-转换流"><a href="#5-转换流" class="headerlink" title="5. 转换流"></a><strong>5.</strong> 转换流</h1><h2 id="5-1-为什么需要转换流"><a href="#5-1-为什么需要转换流" class="headerlink" title="5.1. 为什么需要转换流"></a>5.1. <strong>为什么需要转换流</strong></h2><p>例如实现一个方法内部的代码,但是方法的结构式写好了的,如果我们需要覆写方法内部需要处理文本，那么覆写的方法，方法参数改不了。所以可以在覆写的时候方法体将字节流参数，转换成字符流使用</p><p>public static void print(InputStream is){</p><p>}</p><h2 id="5-2-字节流转字符流-InputStreamReader"><a href="#5-2-字节流转字符流-InputStreamReader" class="headerlink" title="5.2. 字节流转字符流 InputStreamReader"></a>5.2. <strong>字节流转字符流 InputStreamReader</strong></h2><p>\1. InputStreamReader 拓展至 Reader;当成一个特殊的Reader使用就OK了</p><p>\2. 怎么转? 在创建此类的对象时候,构造方法中的数据来源是一个InputStream(字节输入流)</p><p>构造方法摘要:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">InputStreamReader(InputStream in) </span><br><span class="line">InputStreamReader(InputStream in, Charset cs) </span><br><span class="line">InputStreamReader(InputStream in, String charsetName)</span><br></pre></td></tr></table></figure><p>第一个使用的是平台默认的字符集,后面的两个我们可以自己指定字符集</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:/111.txt&quot;</span>);</span><br><span class="line"><span class="type">InputStreamReader</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span> (is);</span><br><span class="line"><span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">10</span>];</span><br><span class="line"><span class="type">int</span> len;</span><br><span class="line"><span class="keyword">while</span>((len = r.read(cbuf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">    System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(cbuf,<span class="number">0</span>,len));</span><br><span class="line">&#125;</span><br><span class="line">r.close();</span><br></pre></td></tr></table></figure><h2 id="5-3-字符流转字节流-OutputStreamWriter"><a href="#5-3-字符流转字节流-OutputStreamWriter" class="headerlink" title="5.3. 字符流转字节流 OutputStreamWriter"></a>5.3. <strong>字符流转字节流 OutputStreamWriter</strong></h2><ol><li><p>OutputStreamWriter拓展至 Writer;当成一个特殊的Writer使用就OK了</p></li><li><p>怎么转? 在创建此类的对象时候,构造方法中的数据输出是一个OutputStream(字节输出流)</p><p>构造方法摘要:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">OutputStreamWriter(OutputStream out) </span><br><span class="line">    OutputStreamWriter(OutputStream out, Charset cs) </span><br><span class="line">    OutputStreamWriter(OutputStream out, String charsetName) </span><br><span class="line"></span><br><span class="line">    <span class="type">OutputStreamWriter</span> <span class="variable">osw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:/333.txt&quot;</span>));</span><br><span class="line">osw.write(<span class="string">&quot;爱上快乐到家&quot;</span>);</span><br><span class="line">osw.close();</span><br></pre></td></tr></table></figure></li></ol><h2 id="5-4-小结"><a href="#5-4-小结" class="headerlink" title="5.4. 小结"></a>5.4. <strong>小结</strong></h2><ol><li><p>上面的字节转字符,字符转字节流,是按照数据流动方向来讲的</p></li><li><p>如果上面的a点不是很理解,建议当成两个读写的流使用就完了</p></li></ol><h1 id="6-缓冲流"><a href="#6-缓冲流" class="headerlink" title="6. 缓冲流"></a><strong>6.</strong> 缓冲流</h1><h2 id="6-1-什么是缓冲流"><a href="#6-1-什么是缓冲流" class="headerlink" title="6.1. 什么是缓冲流"></a>6.1. <strong>什么是缓冲流</strong></h2><p><img src="/breeze/fed4c017/wps592D.tmp.jpg" alt="img"></p><p>之前循环独写数据，操作磁盘的次数非常多，影响性能，通过缓存流，可以先缓存大量读写数据，等到比较多了之后，在连接磁盘一次从磁盘读取或者写。避免多次连接磁盘影响性能，缓冲流的使用[缓冲,达到高效读写操作]有如下四种</p><p>BufferedInputStream [ 1024 * 8]</p><p><strong>BufferedOutputStream</strong></p><p><strong>BufferedReader</strong></p><p>BufferedWriter</p><h2 id="6-2-缓冲流示例"><a href="#6-2-缓冲流示例" class="headerlink" title="6.2. 缓冲流示例"></a>6.2. 缓冲流示例</h2><ol><li>通过测试普通流读写速度与缓冲流独写速度理解缓冲流优势</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();<span class="comment">//毫秒值</span></span><br><span class="line"><span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;F:/b/aa.jpg&quot;</span>);</span><br><span class="line"><span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fis);<span class="comment">//先缓冲,再读取</span></span><br><span class="line"><span class="type">int</span> len;</span><br><span class="line"><span class="type">byte</span>[] b = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="keyword">while</span>((len = bis.read(b))!=-<span class="number">1</span>)&#123;</span><br><span class="line">    System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(b,<span class="number">0</span>,len));</span><br><span class="line">&#125;</span><br><span class="line">bis.close();</span><br><span class="line">fis.close();</span><br><span class="line"><span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();<span class="comment">//毫秒值</span></span><br><span class="line">System.out.println(end-start);</span><br></pre></td></tr></table></figure><h1 id="7-IO流中的异常处理"><a href="#7-IO流中的异常处理" class="headerlink" title="7. IO流中的异常处理"></a><strong>7.</strong> IO流中的异常处理</h1><h2 id="7-1-文件拷贝示例"><a href="#7-1-文件拷贝示例" class="headerlink" title="7.1. 文件拷贝示例"></a>7.1. <strong>文件拷贝示例</strong></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="comment">/*每次读取到数组中，并且从数组中写入到文件，边读边写*/</span>              </span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;F:/bb.txt&quot;</span>);</span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;F:/cc.txt&quot;</span>);</span><br><span class="line">    <span class="type">byte</span>[] b = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="type">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = fis.read(b)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        fos.write(b,<span class="number">0</span>,len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如上示例:IO中的一场我们自己不处理直接抛出在实际开发中是不合适的，所以我们需要进行处理</p><h2 id="7-2-传统方式处理"><a href="#7-2-传统方式处理" class="headerlink" title="7.2. 传统方式处理"></a>7.2. <strong>传统方式处理</strong></h2><p>try{</p><p>​ 可能发生异常的代码块</p><p>}catch(异常类型 形式参数){</p><p>​ 捕获异常之后要做的处理</p><p>}finally{</p><p>​ 异常语句块一定会执行的代码块,释放锁,关闭流资源</p><p>}</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="literal">null</span>;<span class="comment">//局部变量,在使用之前应该初始化</span></span><br><span class="line"><span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    fis = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(src);</span><br><span class="line">    fos = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(dest);</span><br><span class="line">    <span class="type">byte</span>[] b = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="type">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = fis.read(b)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        fos.write(b,<span class="number">0</span>,len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();<span class="comment">//获取异常信息</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;<span class="comment">//先使用后关闭</span></span><br><span class="line">        <span class="keyword">if</span>(fos != <span class="literal">null</span>)</span><br><span class="line">            fos.close();</span><br><span class="line">        <span class="keyword">if</span>(fis != <span class="literal">null</span> )</span><br><span class="line">            fis.close();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-3-Java7新方式"><a href="#7-3-Java7新方式" class="headerlink" title="7.3. Java7新方式"></a>7.3. <strong>Java7新方式</strong></h2><p>自动关闭的流资源,必须是实现了AutoCloseable</p><p>FileInputStream extends InputStream implements Closeable extends AutoCloseable</p><p>try(需要自动关闭的流资源){</p><p>可能发生异常的代码块</p><p>}catch(){</p><p>捕获异常之后要做的处理</p><p>}</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>(</span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(src);</span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(dest);</span><br><span class="line">)&#123;</span><br><span class="line">    <span class="type">byte</span>[] b = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="type">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = fis.read(b)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        fos.write(b,<span class="number">0</span>,len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-4-小结"><a href="#7-4-小结" class="headerlink" title="7.4. 小结"></a>7.4. <strong>小结</strong></h2><ol><li>IO流操作一般都应该关闭；</li><li>就算读写过程中产生了异常，最后也应该关闭，所有关闭流资源的代码一般放在finally结构中</li><li>Java7新结构支持自动关闭，但是try的（）中创建流的对象的流必须是支持自动关闭的（不过一般我们用到的IO流都是有实现此接口的，最好用的时候查看一下文档）</li></ol><h1 id="8-打印流"><a href="#8-打印流" class="headerlink" title="8 打印流"></a>8 打印流</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mliutm._08print;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 可以往窗口或者文件中输出东西</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> EDY</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  <span class="keyword">throws</span> Exception&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//PrintStream</span></span><br><span class="line">        System.out.println(<span class="string">&quot;PrintStream&quot;</span>); <span class="comment">//通过系统类的静态这种PrintStream属性，往窗口上打印内容</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//		PrintWriter writer = new PrintWriter(System.out);</span></span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/java0516/2022-06-15_JAVA提升-IO/doc/test2.txt&quot;</span>));</span><br><span class="line">        writer.write(<span class="string">&quot;jfjjfjf&quot;</span>);</span><br><span class="line"></span><br><span class="line">        writer.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="10-练习"><a href="#10-练习" class="headerlink" title="10. 练习"></a>10. 练习</h1><ol><li>请使用方法写出各种数据类型的转化</li></ol><p>如：字符串-整数 整数–字符串 整数转–小数</p><p>请把Date,Calendar常用方法写出来，并说出他们什么意思</p><ol start="2"><li>Jdk1.7版本以前Map存储实现原理hash表+链表结构读懂代码</li></ol><p><img src="/breeze/fed4c017/wps592E.tmp.jpg" alt="img"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> V <span class="title function_">put</span><span class="params">(K key, V value)</span> &#123;</span><br><span class="line">    <span class="comment">//如果table数组为空数组&#123;&#125;，进行数组填充（为table分配实际内存空间），入参为threshold，</span></span><br><span class="line">    <span class="comment">//threshold为initialCapacity 默认是1&lt;&lt;4(24=16)</span></span><br><span class="line">    <span class="keyword">if</span> (table == EMPTY_TABLE) &#123;</span><br><span class="line">        inflateTable(threshold);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果key为null，存储位置为table[0]或table[0]的冲突链上</span></span><br><span class="line">    <span class="keyword">if</span> (key == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span> putForNullKey(value);</span><br><span class="line">    <span class="type">int</span> <span class="variable">hash</span> <span class="operator">=</span> hash(key);<span class="comment">//对key的hashcode进一步计算，确保散列均匀</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> indexFor(hash, table.length);<span class="comment">//获取在table中的实际位置</span></span><br><span class="line">    <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[i]; e != <span class="literal">null</span>; e = e.next) &#123;</span><br><span class="line">        <span class="comment">//如果该对应数据已存在，执行覆盖操作。用新value替换旧value，并返回旧value            Object k;</span></span><br><span class="line">        <span class="keyword">if</span> (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) &#123;</span><br><span class="line">            <span class="type">V</span> <span class="variable">oldValue</span> <span class="operator">=</span> e.value;</span><br><span class="line">            e.value = value;</span><br><span class="line">            e.recordAccess(<span class="built_in">this</span>);</span><br><span class="line">            <span class="keyword">return</span> oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    modCount++;<span class="comment">//保证并发访问时，若HashMap内部结构发生变化，快速响应失败</span></span><br><span class="line">    addEntry(hash, key, value, i);<span class="comment">//新增一个entry</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://mliutm.github.io">清风</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://mliutm.github.io/breeze/fed4c017.html">https://mliutm.github.io/breeze/fed4c017.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://mliutm.github.io" target="_blank">清风</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/java/">java</a></div><div class="post_share"><div class="social-share" data-image="/img/photo-1645943020355-305df166473d.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/breeze/ecebeadb.html" title="BIO-NIO-AIO深入剖析"><img class="cover" src="/img/photo-1688475747590-d0db5e2412cb.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">BIO-NIO-AIO深入剖析</div></div></a></div><div class="next-post pull-right"><a href="/breeze/c8b66f0a.html" title="File类"><img class="cover" src="/img/photo-1653549892896-dde02867edee.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">File类</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/breeze/ecebeadb.html" title="BIO-NIO-AIO深入剖析"><img class="cover" src="/img/photo-1688475747590-d0db5e2412cb.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-15</div><div class="title">BIO-NIO-AIO深入剖析</div></div></a></div><div><a href="/breeze/c8b66f0a.html" title="File类"><img class="cover" src="/img/photo-1653549892896-dde02867edee.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-15</div><div class="title">File类</div></div></a></div><div><a href="/breeze/a4950fb1.html" title="Redis实战-黑马点评"><img class="cover" src="/img/photo-1653549892896-dde02867edee.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-24</div><div class="title">Redis实战-黑马点评</div></div></a></div><div><a href="/breeze/ab319c68.html" title="SpringCloud-Alibaba快速入门"><img class="cover" src="/img/photo-1645943020355-305df166473d.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-13</div><div class="title">SpringCloud-Alibaba快速入门</div></div></a></div><div><a href="/breeze/4c9bef51.html" title="base抽取与代码生成器（三）"><img class="cover" src="/img/photo-1692708632140-ee01624d558d.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-28</div><div class="title">base抽取与代码生成器（三）</div></div></a></div><div><a href="/breeze/a197ec68.html" title="for和forEach的区别和使用"><img class="cover" src="/img/photo-1692708632140-ee01624d558d.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-16</div><div class="title">for和forEach的区别和使用</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">清风</div><div class="author-info__description">清风洒六合，邈然不可攀</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">162</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">77</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">29</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:huangpan0805@163.com" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div><timing></timing></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#IO%E6%B5%81"><span class="toc-text">IO流</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AFIO%E6%B5%81%E5%8F%8A%E5%88%86%E7%B1%BB"><span class="toc-text">1. 什么是IO流及分类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E4%BB%80%E4%B9%88%E6%98%AFIO%E6%B5%81"><span class="toc-text">1.1. 什么是IO流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-IO%E6%B5%81%E5%A6%82%E4%BD%95%E5%88%86%E7%B1%BB"><span class="toc-text">1.2. IO流如何分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-%E5%B0%8F%E7%BB%93"><span class="toc-text">1.3. 小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E5%AD%97%E8%8A%82%E6%B5%81"><span class="toc-text">2. 字节流</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-%E5%AD%97%E8%8A%82%E8%BE%93%E5%85%A5%E6%B5%81FileInputStream"><span class="toc-text">2.1. 字节输入流FileInputStream</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1-%E5%A6%82%E4%BD%95%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-text">2.1.1. 如何读取文件内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-%E8%AF%BB%E5%8F%96%E4%B8%AD%E6%96%87%E4%BA%A7%E7%94%9F%E4%B9%B1%E7%A0%81%E5%8E%9F%E5%9B%A0%E5%88%86%E6%9E%90"><span class="toc-text">2.1.2. 读取中文产生乱码原因分析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-%E5%AD%97%E8%8A%82%E6%B5%81%E8%BE%93%E5%87%BA%E6%B5%81%EF%BC%88FileOutputStream%EF%BC%89"><span class="toc-text">2.2. 字节流输出流（FileOutputStream）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-%E5%A6%82%E4%BD%95%E6%8A%8A%E6%95%B0%E6%8D%AE%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6%E4%B8%AD"><span class="toc-text">2.2.1. 如何把数据写入文件中</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-%E8%AF%BB%E5%86%99%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98-%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81"><span class="toc-text">2.3. 读写乱码问题-字符编码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-text">3. 字符流</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%AD%A6%E4%B9%A0%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-text">3.1. 为什么需要学习字符流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-%E5%AD%97%E7%AC%A6%E6%B5%81-%E6%96%87%E4%BB%B6%E8%BE%93%E5%85%A5%E6%B5%81-FileReader"><span class="toc-text">3.2. 字符流-文件输入流(FileReader)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-%E5%AD%97%E7%AC%A6%E6%B5%81-%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA%E6%B5%81-FileWriter"><span class="toc-text">3.3. 字符流-文件输出流(FileWriter)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E5%AD%97%E8%8A%82%E6%B5%81%E5%92%8C%E5%AD%97%E7%AC%A6%E6%B5%81%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">4. 字节流和字符流的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E8%BD%AC%E6%8D%A2%E6%B5%81"><span class="toc-text">5. 转换流</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E8%BD%AC%E6%8D%A2%E6%B5%81"><span class="toc-text">5.1. 为什么需要转换流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-%E5%AD%97%E8%8A%82%E6%B5%81%E8%BD%AC%E5%AD%97%E7%AC%A6%E6%B5%81-InputStreamReader"><span class="toc-text">5.2. 字节流转字符流 InputStreamReader</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E5%AD%97%E7%AC%A6%E6%B5%81%E8%BD%AC%E5%AD%97%E8%8A%82%E6%B5%81-OutputStreamWriter"><span class="toc-text">5.3. 字符流转字节流 OutputStreamWriter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-%E5%B0%8F%E7%BB%93"><span class="toc-text">5.4. 小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E7%BC%93%E5%86%B2%E6%B5%81"><span class="toc-text">6. 缓冲流</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-%E4%BB%80%E4%B9%88%E6%98%AF%E7%BC%93%E5%86%B2%E6%B5%81"><span class="toc-text">6.1. 什么是缓冲流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-%E7%BC%93%E5%86%B2%E6%B5%81%E7%A4%BA%E4%BE%8B"><span class="toc-text">6.2. 缓冲流示例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-IO%E6%B5%81%E4%B8%AD%E7%9A%84%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-text">7. IO流中的异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-%E6%96%87%E4%BB%B6%E6%8B%B7%E8%B4%9D%E7%A4%BA%E4%BE%8B"><span class="toc-text">7.1. 文件拷贝示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-%E4%BC%A0%E7%BB%9F%E6%96%B9%E5%BC%8F%E5%A4%84%E7%90%86"><span class="toc-text">7.2. 传统方式处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3-Java7%E6%96%B0%E6%96%B9%E5%BC%8F"><span class="toc-text">7.3. Java7新方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-4-%E5%B0%8F%E7%BB%93"><span class="toc-text">7.4. 小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-%E6%89%93%E5%8D%B0%E6%B5%81"><span class="toc-text">8 打印流</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-%E7%BB%83%E4%B9%A0"><span class="toc-text">10. 练习</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/breeze/7832219d.html" title="十万字面试总结"><img src="/img/premium_photo-1695185954894-e9382c6f4da8.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="十万字面试总结"></a><div class="content"><a class="title" href="/breeze/7832219d.html" title="十万字面试总结">十万字面试总结</a><time datetime="2024-02-29T02:50:00.000Z" title="发表于 2024-02-29 10:50:00">2024-02-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/breeze/7ae0ca37.html" title="Redis_30道经典面试题"><img src="/img/photo-1688475747590-d0db5e2412cb.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Redis_30道经典面试题"></a><div class="content"><a class="title" href="/breeze/7ae0ca37.html" title="Redis_30道经典面试题">Redis_30道经典面试题</a><time datetime="2024-02-29T02:45:00.000Z" title="发表于 2024-02-29 10:45:00">2024-02-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/breeze/2a548e97.html" title="面试实战"><img src="/img/photo-1653549892896-dde02867edee.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="面试实战"></a><div class="content"><a class="title" href="/breeze/2a548e97.html" title="面试实战">面试实战</a><time datetime="2024-02-29T02:43:59.000Z" title="发表于 2024-02-29 10:43:59">2024-02-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/breeze/4edde71e.html" title="Vue2-3-Vue3状态管理Pinia（十一）"><img src="/img/photo-1688475747590-d0db5e2412cb.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Vue2-3-Vue3状态管理Pinia（十一）"></a><div class="content"><a class="title" href="/breeze/4edde71e.html" title="Vue2-3-Vue3状态管理Pinia（十一）">Vue2-3-Vue3状态管理Pinia（十一）</a><time datetime="2024-02-03T13:31:25.000Z" title="发表于 2024-02-03 21:31:25">2024-02-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/breeze/da043fa1.html" title="Vue2-3-大事件管理系统（十）"><img src="/img/premium_photo-1695185954894-e9382c6f4da8.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Vue2-3-大事件管理系统（十）"></a><div class="content"><a class="title" href="/breeze/da043fa1.html" title="Vue2-3-大事件管理系统（十）">Vue2-3-大事件管理系统（十）</a><time datetime="2024-02-03T13:30:11.000Z" title="发表于 2024-02-03 21:30:11">2024-02-03</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(/img/photo-1645943020355-305df166473d.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 <i id="heartbeat" class="fa fas fa-heartbeat"></i> 清风</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></head></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script src="/js/timing.js"></script><script id="canvas_nest" defer color="255,0,255" opacity="0.7" zindex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!0,POWERMODE.mobile=!0,document.body.addEventListener("input",POWERMODE)</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="天枢,天璇,天玑,天权,玉衡,开阳,瑶光" data-fontsize="15px" data-random="true" async></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>